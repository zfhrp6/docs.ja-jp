---
title: リフレクションとジェネリック型
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- reflection emit, generic types
- reflection, generic types
- type arguments
- generics [.NET Framework], reflection
- viewing type information
- type information, viewing
- types, generic
- type parameters
ms.assetid: f7180fc5-dd41-42d4-8a8e-1b34288e06de
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: a45ef91eba38223270a04cff2f00c30decb019f1
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/04/2018
---
# <a name="reflection-and-generic-types"></a><span data-ttu-id="b1203-102">リフレクションとジェネリック型</span><span class="sxs-lookup"><span data-stu-id="b1203-102">Reflection and Generic Types</span></span>
<a name="top"></a> <span data-ttu-id="b1203-103">リフレクションの観点から言えば、ジェネリック型は、それがジェネリック型定義である場合は型パラメーター セットが、構築された型である場合は型引数セットが関連付けられているという点で通常の型と異なります。</span><span class="sxs-lookup"><span data-stu-id="b1203-103">From the point of view of reflection, the difference between a generic type and an ordinary type is that a generic type has associated with it a set of type parameters (if it is a generic type definition) or type arguments (if it is a constructed type).</span></span> <span data-ttu-id="b1203-104">ジェネリック メソッドと通常のメソッドの違いも、それと同様です。</span><span class="sxs-lookup"><span data-stu-id="b1203-104">A generic method differs from an ordinary method in the same way.</span></span>  
  
 <span data-ttu-id="b1203-105">リフレクションでジェネリック型とジェネリック メソッドが処理されるしくみを理解するうえで、次の 2 つの点が重要となります。</span><span class="sxs-lookup"><span data-stu-id="b1203-105">There are two keys to understanding how reflection handles generic types and methods:</span></span>  
  
-   <span data-ttu-id="b1203-106">ジェネリック型の定義とジェネリック メソッドの定義の型パラメーターは、 <xref:System.Type> クラスのインスタンスによって表されます。</span><span class="sxs-lookup"><span data-stu-id="b1203-106">The type parameters of generic type definitions and generic method definitions are represented by instances of the <xref:System.Type> class.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="b1203-107"><xref:System.Type> オブジェクトがジェネリック型パラメーターを表す場合、 <xref:System.Type> の多数のプロパティとメソッドの動作が異なります。</span><span class="sxs-lookup"><span data-stu-id="b1203-107">Many properties and methods of <xref:System.Type> have different behavior when a <xref:System.Type> object represents a generic type parameter.</span></span> <span data-ttu-id="b1203-108">これらの相違点については、該当するプロパティおよびメソッドに関するトピックに記載されています。</span><span class="sxs-lookup"><span data-stu-id="b1203-108">These differences are documented in the property and method topics.</span></span> <span data-ttu-id="b1203-109">たとえば、 <xref:System.Type.IsAutoClass%2A> や <xref:System.Type.DeclaringType%2A>を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1203-109">For example, see <xref:System.Type.IsAutoClass%2A> and <xref:System.Type.DeclaringType%2A>.</span></span> <span data-ttu-id="b1203-110">さらに、一部のメンバーは <xref:System.Type> オブジェクトがジェネリック型パラメーターを表す場合にのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="b1203-110">In addition, some members are valid only when a <xref:System.Type> object represents a generic type parameter.</span></span> <span data-ttu-id="b1203-111">例については、「 <xref:System.Type.GetGenericTypeDefinition%2A>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1203-111">For example, see <xref:System.Type.GetGenericTypeDefinition%2A>.</span></span>  
  
-   <span data-ttu-id="b1203-112"><xref:System.Type> のインスタンスがジェネリック型を表す場合、そのインスタンスには、型パラメーター (ジェネリック型の定義の場合) または型引数 (構築された型の場合) を表す型の配列が含まれます。</span><span class="sxs-lookup"><span data-stu-id="b1203-112">If an instance of <xref:System.Type> represents a generic type, then it includes an array of types that represent the type parameters (for generic type definitions) or the type arguments (for constructed types).</span></span> <span data-ttu-id="b1203-113">ジェネリック メソッドを表す <xref:System.Reflection.MethodInfo> クラスのインスタンスの場合も同様です。</span><span class="sxs-lookup"><span data-stu-id="b1203-113">The same is true of an instance of the <xref:System.Reflection.MethodInfo> class that represents a generic method.</span></span>  
  
 <span data-ttu-id="b1203-114">リフレクションが提供する <xref:System.Type> および <xref:System.Reflection.MethodInfo> のメソッドを使用すると、型パラメーターの配列にアクセスしたり、<xref:System.Type> のインスタンスが型パラメーターと実際の型のどちらを表しているかを確認したりできます。</span><span class="sxs-lookup"><span data-stu-id="b1203-114">Reflection provides methods of <xref:System.Type> and <xref:System.Reflection.MethodInfo> that allow you to access the array of type parameters, and to determine whether an instance of <xref:System.Type> represents a type parameter or an actual type.</span></span>  
  
 <span data-ttu-id="b1203-115">ここで説明するメソッドを示すコード例については、「[方法 : リフレクションを使用してジェネリック型をチェックおよびインスタンス化する](../../../docs/framework/reflection-and-codedom/how-to-examine-and-instantiate-generic-types-with-reflection.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="b1203-115">For example code demonstrating the methods discussed here, see [How to: Examine and Instantiate Generic Types with Reflection](../../../docs/framework/reflection-and-codedom/how-to-examine-and-instantiate-generic-types-with-reflection.md).</span></span>  
  
 <span data-ttu-id="b1203-116">以下の説明は、型パラメーターと型引数の違いや、オープン構築型とクローズ構築型の違いなど、ジェネリックの用語を十分に理解していることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="b1203-116">The following discussion assumes familiarity with the terminology of generics, such as the difference between type parameters and arguments and open or closed constructed types.</span></span> <span data-ttu-id="b1203-117">詳細については、「[ジェネリック](../../../docs/standard/generics/index.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1203-117">For more information, see [Generics](../../../docs/standard/generics/index.md).</span></span>  
  
 <span data-ttu-id="b1203-118">この概要は、次のセクションで構成されています。</span><span class="sxs-lookup"><span data-stu-id="b1203-118">This overview consists of the following sections:</span></span>  
  
-   [<span data-ttu-id="b1203-119">ジェネリック型またはジェネリック メソッドであるかどうかの確認</span><span class="sxs-lookup"><span data-stu-id="b1203-119">Is This a Generic Type or Method?</span></span>](#is_this_a_generic_type_or_method)  
  
-   [<span data-ttu-id="b1203-120">クローズ ジェネリック型の生成</span><span class="sxs-lookup"><span data-stu-id="b1203-120">Generating Closed Generic Types</span></span>](#generating_closed_generic_types)  
  
-   [<span data-ttu-id="b1203-121">型引数と型パラメーターの確認</span><span class="sxs-lookup"><span data-stu-id="b1203-121">Examining Type Arguments and Type Parameters</span></span>](#examining_type_arguments)  
  
-   [<span data-ttu-id="b1203-122">インバリアント</span><span class="sxs-lookup"><span data-stu-id="b1203-122">Invariants</span></span>](#invariants)  
  
-   [<span data-ttu-id="b1203-123">関連トピック</span><span class="sxs-lookup"><span data-stu-id="b1203-123">Related Topics</span></span>](#related_topics)  
  
<a name="is_this_a_generic_type_or_method"></a>   
## <a name="is-this-a-generic-type-or-method"></a><span data-ttu-id="b1203-124">ジェネリック型またはジェネリック メソッドであるかどうかの確認</span><span class="sxs-lookup"><span data-stu-id="b1203-124">Is This a Generic Type or Method?</span></span>  
 <span data-ttu-id="b1203-125">リフレクションを使用して、 <xref:System.Type>のインスタンスによって表される不明な型を調べる場合は、 <xref:System.Type.IsGenericType%2A> プロパティを使用してその不明な型がジェネリックかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1203-125">When you use reflection to examine an unknown type, represented by an instance of <xref:System.Type>, use the <xref:System.Type.IsGenericType%2A> property to determine whether the unknown type is generic.</span></span> <span data-ttu-id="b1203-126">型がジェネリックの場合、 `true` を返します。</span><span class="sxs-lookup"><span data-stu-id="b1203-126">It returns `true` if the type is generic.</span></span> <span data-ttu-id="b1203-127">同様に、 <xref:System.Reflection.MethodInfo> クラスのインスタンスによって表される不明なメソッドを調べる場合には、 <xref:System.Reflection.MethodBase.IsGenericMethod%2A> プロパティを使用してそのメソッドがジェネリックかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1203-127">Similarly, when you examine an unknown method, represented by an instance of the <xref:System.Reflection.MethodInfo> class, use the <xref:System.Reflection.MethodBase.IsGenericMethod%2A> property to determine whether the method is generic.</span></span>  
  
### <a name="is-this-a-generic-type-or-method-definition"></a><span data-ttu-id="b1203-128">ジェネリック型の定義またはジェネリック メソッドの定義であるかどうかの確認</span><span class="sxs-lookup"><span data-stu-id="b1203-128">Is This a Generic Type or Method Definition?</span></span>  
 <span data-ttu-id="b1203-129"><xref:System.Type.IsGenericTypeDefinition%2A> オブジェクトがジェネリック型の定義を表しているかどうかを確認するには、 <xref:System.Type> プロパティを使用します。また、 <xref:System.Reflection.MethodBase.IsGenericMethodDefinition%2A> がジェネリック メソッドの定義を表しているかどうかを確認するには、 <xref:System.Reflection.MethodInfo> メソッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="b1203-129">Use the <xref:System.Type.IsGenericTypeDefinition%2A> property to determine whether a <xref:System.Type> object represents a generic type definition, and use the <xref:System.Reflection.MethodBase.IsGenericMethodDefinition%2A> method to determine whether a <xref:System.Reflection.MethodInfo> represents a generic method definition.</span></span>  
  
 <span data-ttu-id="b1203-130">ジェネリック型の定義とジェネリック メソッドの定義は、インスタンス化可能な型の作成元となるテンプレートです。</span><span class="sxs-lookup"><span data-stu-id="b1203-130">Generic type and method definitions are the templates from which instantiable types are created.</span></span> <span data-ttu-id="b1203-131"><xref:System.Collections.Generic.Dictionary%602>など、.NET Framework クラス ライブラリのジェネリック型は、ジェネリック型の定義です</span><span class="sxs-lookup"><span data-stu-id="b1203-131">Generic types in the .NET Framework class library, such as <xref:System.Collections.Generic.Dictionary%602>, are generic type definitions.</span></span>  
  
### <a name="is-the-type-or-method-open-or-closed"></a><span data-ttu-id="b1203-132">型またはメソッドがオープンかクローズか</span><span class="sxs-lookup"><span data-stu-id="b1203-132">Is the Type or Method Open or Closed?</span></span>  
 <span data-ttu-id="b1203-133">すべての型パラメーター (すべての内包する型のすべての型パラメーターを含む) がインスタンス化可能な型に置き換えられている場合、ジェネリック型またはジェネリック メソッドはクローズであるといいます。</span><span class="sxs-lookup"><span data-stu-id="b1203-133">A generic type or method is closed if instantiable types have been substituted for all its type parameters, including all the type parameters of all enclosing types.</span></span> <span data-ttu-id="b1203-134">ジェネリック型のインスタンスを作成できるのは、それがクローズである場合だけです。</span><span class="sxs-lookup"><span data-stu-id="b1203-134">You can only create an instance of a generic type if it is closed.</span></span> <span data-ttu-id="b1203-135">型がオープンである場合、 <xref:System.Type.ContainsGenericParameters%2A?displayProperty=nameWithType> プロパティは `true` を返します。</span><span class="sxs-lookup"><span data-stu-id="b1203-135">The <xref:System.Type.ContainsGenericParameters%2A?displayProperty=nameWithType> property returns `true` if a type is open.</span></span> <span data-ttu-id="b1203-136">メソッドの場合、 <xref:System.Reflection.MethodBase.ContainsGenericParameters%2A?displayProperty=nameWithType> メソッドで同じ機能が実行されます。</span><span class="sxs-lookup"><span data-stu-id="b1203-136">For methods, the <xref:System.Reflection.MethodBase.ContainsGenericParameters%2A?displayProperty=nameWithType> method performs the same function.</span></span>  
  
 [<span data-ttu-id="b1203-137">ページのトップへ</span><span class="sxs-lookup"><span data-stu-id="b1203-137">Back to top</span></span>](#top)  
  
<a name="generating_closed_generic_types"></a>   
## <a name="generating-closed-generic-types"></a><span data-ttu-id="b1203-138">クローズ ジェネリック型の生成</span><span class="sxs-lookup"><span data-stu-id="b1203-138">Generating Closed Generic Types</span></span>  
 <span data-ttu-id="b1203-139">ジェネリック型の定義を取得したら、 <xref:System.Type.MakeGenericType%2A> メソッドを使用してクローズ ジェネリック型を作成します。また、ジェネリック メソッドの定義を取得したら、 <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> メソッドを使用してクローズ ジェネリック メソッドの <xref:System.Reflection.MethodInfo> を作成します。</span><span class="sxs-lookup"><span data-stu-id="b1203-139">Once you have a generic type or method definition, use the <xref:System.Type.MakeGenericType%2A> method to create a closed generic type or the <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> method to create a <xref:System.Reflection.MethodInfo> for a closed generic method.</span></span>  
  
### <a name="getting-the-generic-type-or-method-definition"></a><span data-ttu-id="b1203-140">ジェネリック型の定義またはジェネリック メソッドの定義の取得</span><span class="sxs-lookup"><span data-stu-id="b1203-140">Getting the Generic Type or Method Definition</span></span>  
 <span data-ttu-id="b1203-141">ジェネリック型またはジェネリック メソッドの定義ではないオープン ジェネリック型またはオープン ジェネリック メソッドがある場合、そのインスタンスを作成することはできず、欠落している型パラメーターを指定することもできません。</span><span class="sxs-lookup"><span data-stu-id="b1203-141">If you have an open generic type or method that is not a generic type or method definition, you cannot create instances of it and you cannot supply the type parameters that are missing.</span></span> <span data-ttu-id="b1203-142">ジェネリック型の定義またはジェネリック メソッドの定義が必要です。</span><span class="sxs-lookup"><span data-stu-id="b1203-142">You must have a generic type or method definition.</span></span> <span data-ttu-id="b1203-143">ジェネリック型の定義を取得するには <xref:System.Type.GetGenericTypeDefinition%2A> メソッドを使用し、ジェネリック メソッドの定義を取得するには <xref:System.Reflection.MethodInfo.GetGenericMethodDefinition%2A> メソッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="b1203-143">Use the <xref:System.Type.GetGenericTypeDefinition%2A> method to obtain the generic type definition or the <xref:System.Reflection.MethodInfo.GetGenericMethodDefinition%2A> method to obtain the generic method definition.</span></span>  
  
 <span data-ttu-id="b1203-144">たとえば、 <xref:System.Type> (Visual Basic では `Dictionary<int, string>` ) を表す`Dictionary(Of Integer, String)` オブジェクトがあり、 `Dictionary<string, MyClass>`型を作成する必要がある場合は、 <xref:System.Type.GetGenericTypeDefinition%2A> メソッドを使用して <xref:System.Type> を表す `Dictionary<TKey, TValue>` を取得し、 <xref:System.Type.MakeGenericType%2A> メソッドを使用して <xref:System.Type> を表す `Dictionary<int, MyClass>`を作成します。</span><span class="sxs-lookup"><span data-stu-id="b1203-144">For example, if you have a <xref:System.Type> object representing `Dictionary<int, string>` (`Dictionary(Of Integer, String)` in Visual Basic) and you want to create the type `Dictionary<string, MyClass>`, you can use the <xref:System.Type.GetGenericTypeDefinition%2A> method to get a <xref:System.Type> representing `Dictionary<TKey, TValue>` and then use the <xref:System.Type.MakeGenericType%2A> method to produce a <xref:System.Type> representing `Dictionary<int, MyClass>`.</span></span>  
  
 <span data-ttu-id="b1203-145">ジェネリック型ではないオープン ジェネリック型の例は、この後の「型パラメーターまたは型引数」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1203-145">For an example of an open generic type that is not a generic type, see "Type Parameter or Type Argument" later in this topic.</span></span>  
  
 [<span data-ttu-id="b1203-146">ページのトップへ</span><span class="sxs-lookup"><span data-stu-id="b1203-146">Back to top</span></span>](#top)  
  
<a name="examining_type_arguments"></a>   
## <a name="examining-type-arguments-and-type-parameters"></a><span data-ttu-id="b1203-147">型引数と型パラメーターの確認</span><span class="sxs-lookup"><span data-stu-id="b1203-147">Examining Type Arguments and Type Parameters</span></span>  
 <span data-ttu-id="b1203-148">ジェネリック型の型パラメーターまたは型引数を表す <xref:System.Type.GetGenericArguments%2A?displayProperty=nameWithType> オブジェクトの配列を取得するには、 <xref:System.Type> メソッドを使用します。また、ジェネリック メソッドに対して同じ操作を実行するには、 <xref:System.Reflection.MethodInfo.GetGenericArguments%2A?displayProperty=nameWithType> メソッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="b1203-148">Use the <xref:System.Type.GetGenericArguments%2A?displayProperty=nameWithType> method to obtain an array of <xref:System.Type> objects that represent the type parameters or type arguments of a generic type, and use the <xref:System.Reflection.MethodInfo.GetGenericArguments%2A?displayProperty=nameWithType> method to do the same for a generic method.</span></span>  
  
 <span data-ttu-id="b1203-149"><xref:System.Type> オブジェクトが型パラメーターを表していることがわかったら、リフレクションによって他の多くの詳細を確認できます</span><span class="sxs-lookup"><span data-stu-id="b1203-149">Once you know that a <xref:System.Type> object represents a type parameter, there are many additional questions reflection can answer.</span></span> <span data-ttu-id="b1203-150">型パラメーターのソース、その位置、およびその制約を確認できます。</span><span class="sxs-lookup"><span data-stu-id="b1203-150">You can determine the type parameter's source, its position, and its constraints.</span></span>  
  
### <a name="type-parameter-or-type-argument"></a><span data-ttu-id="b1203-151">型パラメーターまたは型引数</span><span class="sxs-lookup"><span data-stu-id="b1203-151">Type Parameter or Type Argument</span></span>  
 <span data-ttu-id="b1203-152">配列の特定の要素が型パラメーターと型引数のどちらであるかを確認するには、 <xref:System.Type.IsGenericParameter%2A> プロパティを使用します。</span><span class="sxs-lookup"><span data-stu-id="b1203-152">To determine whether a particular element of the array is a type parameter or a type argument, use the <xref:System.Type.IsGenericParameter%2A> property.</span></span> <span data-ttu-id="b1203-153">要素が型パラメーターの場合、 <xref:System.Type.IsGenericParameter%2A> プロパティは `true` です。</span><span class="sxs-lookup"><span data-stu-id="b1203-153">The <xref:System.Type.IsGenericParameter%2A> property is `true` if the element is a type parameter.</span></span>  
  
 <span data-ttu-id="b1203-154">ジェネリック型には、ジェネリック型の定義がないことがあります。その場合のジェネリック型はオープンであり、型引数と型パラメーターが混在しています。</span><span class="sxs-lookup"><span data-stu-id="b1203-154">A generic type can be open without being a generic type definition, in which case it has a mixture of type arguments and type parameters.</span></span> <span data-ttu-id="b1203-155">たとえば、次のコードでは、クラス `D` は `D` の 2 つ目の型パラメーターを `B`の 1 つ目の型パラメーターに置き換えることによって作成された型から派生します。</span><span class="sxs-lookup"><span data-stu-id="b1203-155">For example, in the following code, class `D` derives from a type created by substituting the first type parameter of `D` for the second type parameter of `B`.</span></span>  
  
```csharp  
class B<T, U> {}  
class D<V, W> : B<int, V> {}  
```  
  
```vb  
Class B(Of T, U)  
End Class  
Class D(Of V, W)  
    Inherits B(Of Integer, V)  
End Class  
```  
  
```cpp  
generic<typename T, typename U> ref class B {};  
generic<typename V, typename W> ref class D : B<int, V> {};  
```  
  
 <span data-ttu-id="b1203-156"><xref:System.Type> を表す `D<V, W>` オブジェクトを取得し、 <xref:System.Type.BaseType%2A> プロパティを使用してその基本型を取得した場合、結果として得られる `type B<int, V>` はオープンであり、ジェネリック型の定義ではありません。</span><span class="sxs-lookup"><span data-stu-id="b1203-156">If you obtain a <xref:System.Type> object representing `D<V, W>` and use the <xref:System.Type.BaseType%2A> property to obtain its base type, the resulting `type B<int, V>` is open, but it is not a generic type definition.</span></span>  
  
### <a name="source-of-a-generic-parameter"></a><span data-ttu-id="b1203-157">ジェネリック パラメーターのソース</span><span class="sxs-lookup"><span data-stu-id="b1203-157">Source of a Generic Parameter</span></span>  
 <span data-ttu-id="b1203-158">ジェネリック型パラメーターのソースとしては、開発者が今調べている型、外側の型、またはジェネリック メソッドが考えられます。</span><span class="sxs-lookup"><span data-stu-id="b1203-158">A generic type parameter might come from the type you are examining, from an enclosing type, or from a generic method.</span></span> <span data-ttu-id="b1203-159">ジェネリック型パラメーターのソースを特定するには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="b1203-159">You can determine the source of the generic type parameter as follows:</span></span>  
  
-   <span data-ttu-id="b1203-160">まず、 <xref:System.Type.DeclaringMethod%2A> プロパティを使用して、型パラメーターのソースがジェネリック メソッドかどうかを判定します。</span><span class="sxs-lookup"><span data-stu-id="b1203-160">First, use the <xref:System.Type.DeclaringMethod%2A> property to determine whether the type parameter comes from a generic method.</span></span> <span data-ttu-id="b1203-161">このプロパティの値が null 参照 (Visual Basic では`Nothing` ) ではない場合、ソースはジェネリック メソッドです。</span><span class="sxs-lookup"><span data-stu-id="b1203-161">If the property value is not a null reference (`Nothing` in Visual Basic), then the source is a generic method.</span></span>  
  
-   <span data-ttu-id="b1203-162">ソースがジェネリック メソッドでない場合は、 <xref:System.Type.DeclaringType%2A> プロパティを使用して、ジェネリック型パラメーターが属しているジェネリック型を判定します。</span><span class="sxs-lookup"><span data-stu-id="b1203-162">If the source is not a generic method, use the <xref:System.Type.DeclaringType%2A> property to determine the generic type the generic type parameter belongs to.</span></span>  
  
 <span data-ttu-id="b1203-163">型パラメーターがジェネリック メソッドに属している場合、 <xref:System.Type.DeclaringType%2A> プロパティはそのジェネリック メソッドを宣言した型を返しますが、これは無関係です。</span><span class="sxs-lookup"><span data-stu-id="b1203-163">If the type parameter belongs to a generic method, the <xref:System.Type.DeclaringType%2A> property returns the type that declared the generic method, which is irrelevant.</span></span>  
  
### <a name="position-of-a-generic-parameter"></a><span data-ttu-id="b1203-164">ジェネリック パラメーターの位置</span><span class="sxs-lookup"><span data-stu-id="b1203-164">Position of a Generic Parameter</span></span>  
 <span data-ttu-id="b1203-165">まれなケースですが、宣言するクラスの型パラメーター リスト内の型パラメーターの位置を確認することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="b1203-165">In rare situations, it is necessary to determine the position of a type parameter in the type parameter list of its declaring class.</span></span> <span data-ttu-id="b1203-166">たとえば、上の例の <xref:System.Type> 型を表す `B<int, V>` オブジェクトについて考えてみます。</span><span class="sxs-lookup"><span data-stu-id="b1203-166">For example, suppose you have a <xref:System.Type> object representing the `B<int, V>` type from the preceding example.</span></span> <span data-ttu-id="b1203-167"><xref:System.Type.GetGenericArguments%2A> メソッドからは、型引数のリストが提供されます。 `V` を調べるときには、 <xref:System.Type.DeclaringMethod%2A> プロパティと <xref:System.Type.DeclaringType%2A> プロパティを使用してそれがどこからのものかを確認できます</span><span class="sxs-lookup"><span data-stu-id="b1203-167">The <xref:System.Type.GetGenericArguments%2A> method gives you a list of type arguments, and when you examine `V` you can use the <xref:System.Type.DeclaringMethod%2A> and <xref:System.Type.DeclaringType%2A> properties to discover where it comes from.</span></span> <span data-ttu-id="b1203-168">次に、 <xref:System.Type.GenericParameterPosition%2A> プロパティを使用することにより、型パラメーター リストの中でそれが定義されていた位置を判定できます。</span><span class="sxs-lookup"><span data-stu-id="b1203-168">You can then use the <xref:System.Type.GenericParameterPosition%2A> property to determine its position in the type parameter list where it was defined.</span></span> <span data-ttu-id="b1203-169">この例では、 `V` は、定義された型パラメーター リスト内の 0 (ゼロ) の位置にあります。</span><span class="sxs-lookup"><span data-stu-id="b1203-169">In this example, `V` is at position 0 (zero) in the type parameter list where it was defined.</span></span>  
  
### <a name="base-type-and-interface-constraints"></a><span data-ttu-id="b1203-170">基本データ型とインターフェイスの制約</span><span class="sxs-lookup"><span data-stu-id="b1203-170">Base Type and Interface Constraints</span></span>  
 <span data-ttu-id="b1203-171"><xref:System.Type.GetGenericParameterConstraints%2A> メソッドを使用すると、基本データ型の制約と型パラメーターのインターフェイス制約を取得できます。</span><span class="sxs-lookup"><span data-stu-id="b1203-171">Use the <xref:System.Type.GetGenericParameterConstraints%2A> method to obtain the base type constraint and interface constraints of a type parameter.</span></span> <span data-ttu-id="b1203-172">配列の要素の順序は重要ではありません。</span><span class="sxs-lookup"><span data-stu-id="b1203-172">The order of the elements of the array is not significant.</span></span> <span data-ttu-id="b1203-173">要素がインターフェイス型の場合、その要素はインターフェイスの制約を表します。</span><span class="sxs-lookup"><span data-stu-id="b1203-173">An element represents an interface constraint if it is an interface type.</span></span>  
  
### <a name="generic-parameter-attributes"></a><span data-ttu-id="b1203-174">ジェネリック パラメーターの属性</span><span class="sxs-lookup"><span data-stu-id="b1203-174">Generic Parameter Attributes</span></span>  
 <span data-ttu-id="b1203-175"><xref:System.Type.GenericParameterAttributes%2A> プロパティを使用すると、型パラメーターの変化 (共変性または反変性) と特殊な制約を示す <xref:System.Reflection.GenericParameterAttributes> 値を取得できます。</span><span class="sxs-lookup"><span data-stu-id="b1203-175">The <xref:System.Type.GenericParameterAttributes%2A> property gets a <xref:System.Reflection.GenericParameterAttributes> value that indicates the variance (covariance or contravariance) and the special constraints of a type parameter.</span></span>  
  
#### <a name="covariance-and-contravariance"></a><span data-ttu-id="b1203-176">共変性と反変性</span><span class="sxs-lookup"><span data-stu-id="b1203-176">Covariance and Contravariance</span></span>  
 <span data-ttu-id="b1203-177">型パラメーターが共変性と反変性のどちらであるかを判定するには、 <xref:System.Reflection.GenericParameterAttributes.VarianceMask?displayProperty=nameWithType> プロパティから返される <xref:System.Reflection.GenericParameterAttributes> 値に <xref:System.Type.GenericParameterAttributes%2A> マスクを適用します。</span><span class="sxs-lookup"><span data-stu-id="b1203-177">To determine whether a type parameter is covariant or contravariant, apply the <xref:System.Reflection.GenericParameterAttributes.VarianceMask?displayProperty=nameWithType> mask to the <xref:System.Reflection.GenericParameterAttributes> value that is returned by the <xref:System.Type.GenericParameterAttributes%2A> property.</span></span> <span data-ttu-id="b1203-178">結果が <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>の場合、型パラメーターはインバリアント (不変) です。</span><span class="sxs-lookup"><span data-stu-id="b1203-178">If the result is <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>, the type parameter is invariant.</span></span> <span data-ttu-id="b1203-179">「 [共変性と反変性](../../../docs/standard/generics/covariance-and-contravariance.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1203-179">See [Covariance and Contravariance](../../../docs/standard/generics/covariance-and-contravariance.md).</span></span>  
  
#### <a name="special-constraints"></a><span data-ttu-id="b1203-180">特殊な制約</span><span class="sxs-lookup"><span data-stu-id="b1203-180">Special Constraints</span></span>  
 <span data-ttu-id="b1203-181">型パラメーターの特殊な制約を判定するには、 <xref:System.Reflection.GenericParameterAttributes.SpecialConstraintMask?displayProperty=nameWithType> プロパティから返される <xref:System.Reflection.GenericParameterAttributes> 値に <xref:System.Type.GenericParameterAttributes%2A> マスクを適用します。</span><span class="sxs-lookup"><span data-stu-id="b1203-181">To determine the special constraints of a type parameter, apply the <xref:System.Reflection.GenericParameterAttributes.SpecialConstraintMask?displayProperty=nameWithType> mask to the <xref:System.Reflection.GenericParameterAttributes> value that is returned by the <xref:System.Type.GenericParameterAttributes%2A> property.</span></span> <span data-ttu-id="b1203-182">結果が <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>の場合、特殊な制約はありません。</span><span class="sxs-lookup"><span data-stu-id="b1203-182">If the result is <xref:System.Reflection.GenericParameterAttributes.None?displayProperty=nameWithType>, there are no special constraints.</span></span> <span data-ttu-id="b1203-183">型パラメーターに対する制約としては、参照型であること、null 非許容値型であること、既定のコンストラクターが存在すること、があります。</span><span class="sxs-lookup"><span data-stu-id="b1203-183">A type parameter can be constrained to be a reference type, to be a non-nullable value type, and to have a default constructor.</span></span>  
  
 [<span data-ttu-id="b1203-184">ページのトップへ</span><span class="sxs-lookup"><span data-stu-id="b1203-184">Back to top</span></span>](#top)  
  
<a name="invariants"></a>   
## <a name="invariants"></a><span data-ttu-id="b1203-185">インバリアント</span><span class="sxs-lookup"><span data-stu-id="b1203-185">Invariants</span></span>  
 <span data-ttu-id="b1203-186">ジェネリック型のリフレクションで使用される一般的な用語に対するインバリアント条件を記載した表は、 <xref:System.Type.IsGenericType%2A?displayProperty=nameWithType>を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1203-186">For a table of the invariant conditions for common terms in reflection for generic types, see <xref:System.Type.IsGenericType%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="b1203-187">ジェネリック メソッドに関連するその他の用語については、 <xref:System.Reflection.MethodBase.IsGenericMethod%2A?displayProperty=nameWithType>を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1203-187">For additional terms relating to generic methods, see <xref:System.Reflection.MethodBase.IsGenericMethod%2A?displayProperty=nameWithType>.</span></span>  
  
 [<span data-ttu-id="b1203-188">ページのトップへ</span><span class="sxs-lookup"><span data-stu-id="b1203-188">Back to top</span></span>](#top)  
  
<a name="related_topics"></a>   
## <a name="related-topics"></a><span data-ttu-id="b1203-189">関連トピック</span><span class="sxs-lookup"><span data-stu-id="b1203-189">Related Topics</span></span>  
  
|<span data-ttu-id="b1203-190">Title</span><span class="sxs-lookup"><span data-stu-id="b1203-190">Title</span></span>|<span data-ttu-id="b1203-191">説明</span><span class="sxs-lookup"><span data-stu-id="b1203-191">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="b1203-192">方法 : リフレクションを使用してジェネリック型をチェックおよびインスタンス化する</span><span class="sxs-lookup"><span data-stu-id="b1203-192">How to: Examine and Instantiate Generic Types with Reflection</span></span>](../../../docs/framework/reflection-and-codedom/how-to-examine-and-instantiate-generic-types-with-reflection.md)|<span data-ttu-id="b1203-193"><xref:System.Type> と <xref:System.Reflection.MethodInfo> のプロパティとメソッドを使用してジェネリック型について調べる方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="b1203-193">Shows how to use the properties and methods of <xref:System.Type> and <xref:System.Reflection.MethodInfo> to examine generic types.</span></span>|  
|[<span data-ttu-id="b1203-194">ジェネリック</span><span class="sxs-lookup"><span data-stu-id="b1203-194">Generics</span></span>](../../../docs/standard/generics/index.md)|<span data-ttu-id="b1203-195">ジェネリックの機能と .NET Framework におけるサポートについて説明します。</span><span class="sxs-lookup"><span data-stu-id="b1203-195">Describes the generics feature and how it is supported in the .NET Framework.</span></span>|  
|[<span data-ttu-id="b1203-196">方法: リフレクション出力を使用してジェネリック型を定義する</span><span class="sxs-lookup"><span data-stu-id="b1203-196">How to: Define a Generic Type with Reflection Emit</span></span>](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md)|<span data-ttu-id="b1203-197">リフレクション出力を使用して動的アセンブリにジェネリック型を生成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="b1203-197">Shows how to use reflection emit to generate generic types in dynamic assemblies.</span></span>|  
|[<span data-ttu-id="b1203-198">型情報の表示</span><span class="sxs-lookup"><span data-stu-id="b1203-198">Viewing Type Information</span></span>](../../../docs/framework/reflection-and-codedom/viewing-type-information.md)|<span data-ttu-id="b1203-199"><xref:System.Type> クラスについて説明します。また、<xref:System.Type> をさまざまなリフレクション クラスと共に使用して、コンストラクター、メソッド、フィールド、プロパティ、およびイベントについての情報を取得する方法を示すコード例を提供します。</span><span class="sxs-lookup"><span data-stu-id="b1203-199">Describes the <xref:System.Type> class and provides code examples that illustrate how to use <xref:System.Type> with various reflection classes to obtain information about constructors, methods, fields, properties, and events.</span></span>|
