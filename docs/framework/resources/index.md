---
title: "デスクトップ アプリケーションのリソース"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-bcl
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- application resources
- resource files
- satellite assemblies
- localization
- packaging application resources
- localizing resources
ms.assetid: 8ad495d4-2941-40cf-bf64-e82e85825890
caps.latest.revision: 19
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.translationtype: HT
ms.sourcegitcommit: 306c608dc7f97594ef6f72ae0f5aaba596c936e1
ms.openlocfilehash: 95ca72a6da8def7c98a978650c60a27722141527
ms.contentlocale: ja-jp
ms.lasthandoff: 09/05/2017

---
# <a name="resources-in-desktop-apps"></a><span data-ttu-id="76e7a-102">デスクトップ アプリケーションのリソース</span><span class="sxs-lookup"><span data-stu-id="76e7a-102">Resources in Desktop Apps</span></span>
<span data-ttu-id="76e7a-103">ほとんどの製品レベルのアプリでは、リソースを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="76e7a-103">Nearly every production-quality app has to use resources.</span></span> <span data-ttu-id="76e7a-104">リソースは実行不可能なデータであり、アプリと共に論理的に配置されます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-104">A resource is any nonexecutable data that is logically deployed with an app.</span></span> <span data-ttu-id="76e7a-105">このリソースは、アプリ内ではエラー メッセージまたはユーザー インターフェイスの一部として表示できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-105">A resource might be displayed in an app as error messages or as part of the user interface.</span></span> <span data-ttu-id="76e7a-106">リソースには、文字列、イメージ、永続化されたオブジェクトなど、多数の形式のデータを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-106">Resources can contain data in a number of forms, including strings, images, and persisted objects.</span></span> <span data-ttu-id="76e7a-107">(永続化されたオブジェクトをリソース ファイルに書き込むには、そのオブジェクトをシリアル化できることが必要です)。データをリソース ファイルに格納しておけば、アプリ全体を再コンパイルすることなくデータを変更できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-107">(To write persisted objects to a resource file, the objects must be serializable.) Storing your data in a resource file enables you to change the data without recompiling your entire app.</span></span> <span data-ttu-id="76e7a-108">また、データの格納場所が 1 つになり、複数の場所に格納されているハードコーディングされたデータを利用する必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="76e7a-108">It also enables you to store data in a single location, and eliminates the need to rely on hard-coded data that is stored in multiple locations.</span></span>  
  
 <span data-ttu-id="76e7a-109">.NET Framework は、デスクトップ アプリのリソースの作成とローカライズを包括的にサポートします。</span><span class="sxs-lookup"><span data-stu-id="76e7a-109">The .NET Framework provides comprehensive support for the creation and localization of resources in desktop apps.</span></span> <span data-ttu-id="76e7a-110">さらに、.NET Framework は、デスクトップ アプリのローカライズされたリソースのパッケージ化および配置のためのシンプルなモデルもサポートしています。</span><span class="sxs-lookup"><span data-stu-id="76e7a-110">In addition, the .NET Framework supports a simple model for packaging and deploying these localized resources in desktop apps.</span></span>  
  
 <span data-ttu-id="76e7a-111">ASP.NET のリソースの詳細については、Internet Explorer デベロッパー センターの「[ASP.NET Web ページのリソースの概要](http://msdn.microsoft.com/library/0936b3b2-9e6e-4abe-9c06-364efef9dbbd)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76e7a-111">For information about resources in ASP.NET, see [ASP.NET Web Page Resources Overview](http://msdn.microsoft.com/library/0936b3b2-9e6e-4abe-9c06-364efef9dbbd) in the Internet Explorer Developer Center.</span></span>  
  
 [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)]<span data-ttu-id="76e7a-112"> アプリは、デスクトップ アプリとは異なるリソース モデルを使用して、1 つのパッケージ リソース インデックス (PRI) ファイルにリソースを格納します。</span><span class="sxs-lookup"><span data-stu-id="76e7a-112"> apps use a different resource model from desktop apps and store their resources in a single package resource index (PRI) file.</span></span> <span data-ttu-id="76e7a-113">[!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] アプリのリソースの詳細については、Windows デベロッパー センターの「[Windows ストア アプリでのリソースの作成と取得](http://go.microsoft.com/fwlink/p/?LinkId=241674)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76e7a-113">For information about resources in [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps, see [Creating and retrieving resources in Windows Store apps](http://go.microsoft.com/fwlink/p/?LinkId=241674) in the Windows Dev Center.</span></span>  
  
## <a name="creating-and-localizing-resources"></a><span data-ttu-id="76e7a-114">リソースの作成とローカライズ</span><span class="sxs-lookup"><span data-stu-id="76e7a-114">Creating and Localizing Resources</span></span>  
 <span data-ttu-id="76e7a-115">ローカライズされていないアプリでは、リソース ファイルをアプリ データ、特にソース コード内の複数の場所にハードコーディングされる可能性がある文字列のリポジトリとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-115">In a non-localized app, you can use resource files as a repository for app data, particularly for strings that might otherwise be hard-coded in multiple locations in source code.</span></span> <span data-ttu-id="76e7a-116">ほとんどの場合、リソースはテキスト (.txt) ファイルまたは XML (.resx) ファイルとして作成し、[Resgen.exe (リソース ファイル ジェネレーター)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) を使用して .resources バイナリ ファイルにコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="76e7a-116">Most commonly, you create resources as either text (.txt) or XML (.resx) files, and use [Resgen.exe (Resource File Generator)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) to compile them into binary .resources files.</span></span> <span data-ttu-id="76e7a-117">これらのファイルは、言語コンパイラでアプリの実行可能ファイルに埋め込むことができます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-117">These files can then be embedded in the app's executable file by a language compiler.</span></span> <span data-ttu-id="76e7a-118">リソースの作成の詳細については、[リソース ファイルの作成](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md)に関する記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76e7a-118">For more information about creating resources, see [Creating Resource Files](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md).</span></span>  
  
 <span data-ttu-id="76e7a-119">アプリのリソースを特定のカルチャに合わせてローカライズすることもできます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-119">You can also localize your app's resources for specific cultures.</span></span> <span data-ttu-id="76e7a-120">これにより、アプリのローカライズ (翻訳) バージョンを構築できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-120">This enables you to build localized (translated) versions of your apps.</span></span> <span data-ttu-id="76e7a-121">ローカライズされたリソースを使用するアプリを開発する場合、ニュートラル カルチャまたはフォールバック カルチャとして使用するカルチャを指定します。適切なリソースがない場合はそのカルチャのリソースが使用されます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-121">When you develop an app that uses localized resources, you designate a culture that serves as the neutral or fallback culture whose resources are used if no suitable resources are available.</span></span> <span data-ttu-id="76e7a-122">一般に、ニュートラル カルチャのリソースはアプリの実行可能ファイルに格納されます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-122">Typically, the resources of the neutral culture are stored in the app's executable.</span></span> <span data-ttu-id="76e7a-123">個々のローカライズされたカルチャのその他のリソースはスタンドアロンのサテライト アセンブリに格納されます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-123">The remaining resources for individual localized cultures are stored in standalone satellite assemblies.</span></span> <span data-ttu-id="76e7a-124">詳細については、[サテライト アセンブリの作成](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md)に関する記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76e7a-124">For more information, see [Creating Satellite Assemblies](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md).</span></span>  
  
## <a name="packaging-and-deploying-resources"></a><span data-ttu-id="76e7a-125">リソースのパッケージ化と配置</span><span class="sxs-lookup"><span data-stu-id="76e7a-125">Packaging and Deploying Resources</span></span>  
 <span data-ttu-id="76e7a-126">ローカライズされたアプリ リソースは[サテライト アセンブリ](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)に配置します。</span><span class="sxs-lookup"><span data-stu-id="76e7a-126">You deploy localized app resources in [satellite assemblies](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span> <span data-ttu-id="76e7a-127">サテライト アセンブリには 1 つのカルチャのリソースが含まれます。アプリケーション コードは含まれません。</span><span class="sxs-lookup"><span data-stu-id="76e7a-127">A satellite assembly contains the resources of a single culture; it does not contain any app code.</span></span> <span data-ttu-id="76e7a-128">サテライト アセンブリの配置モデルでは、1 つの既定アセンブリ (一般的にはメイン アセンブリ) と、アプリがサポートするカルチャごとに 1 つのサテライト アセンブリを使用するアプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="76e7a-128">In the satellite assembly deployment model, you create an app with one default assembly (which is typically the main assembly) and one satellite assembly for each culture that the app supports.</span></span> <span data-ttu-id="76e7a-129">サテライト アセンブリはメイン アセンブリには含まれないため、アプリのメイン アセンブリを交換しなくても、特定のカルチャに対応するリソースのみを簡単に交換または更新できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-129">Because the satellite assemblies are not part of the main assembly, you can easily replace or update resources corresponding to a specific culture without replacing the app's main assembly.</span></span>  
  
 <span data-ttu-id="76e7a-130">どのリソースをアプリの既定のリソース アセンブリに含めるかは、慎重に決定してください。</span><span class="sxs-lookup"><span data-stu-id="76e7a-130">Carefully determine which resources will make up your app's default resource assembly.</span></span> <span data-ttu-id="76e7a-131">これはメイン アセンブリの一部に含まれるため、変更するためにはメイン アセンブリを交換する必要が生じます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-131">Because it is a part of the main assembly, any changes to it will require you to replace the main assembly.</span></span> <span data-ttu-id="76e7a-132">既定のリソースを提供しないと、[リソース フォールバック プロセス](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)によって既定リソースが検索されるときに例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="76e7a-132">If you do not provide a default resource, an exception will be thrown when the [resource fallback process](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) attempts to find it.</span></span> <span data-ttu-id="76e7a-133">アプリが適切にデザインされていれば、リソースの使用によって例外が発生することはありません。</span><span class="sxs-lookup"><span data-stu-id="76e7a-133">In a well-designed app, using resources should never throw an exception.</span></span>  
  
 <span data-ttu-id="76e7a-134">詳細については、「[リソースのパッケージ化と配置](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)」の記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="76e7a-134">For more information, see the [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) article.</span></span>  
  
## <a name="retrieving-resources"></a><span data-ttu-id="76e7a-135">リソースの取得</span><span class="sxs-lookup"><span data-stu-id="76e7a-135">Retrieving Resources</span></span>  
 <span data-ttu-id="76e7a-136">実行時に、アプリは、<xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> プロパティで指定されるカルチャに基づいて、適切なローカライズ バージョンのリソースをスレッド単位で読み込みます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-136">At run time, an app loads the appropriate localized resources on a per-thread basis, based on the culture specified by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> property.</span></span> <span data-ttu-id="76e7a-137">このプロパティ値の派生は次のように行われます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-137">This property value is derived as follows:</span></span>  
  
-   <span data-ttu-id="76e7a-138">ローカライズされたカルチャを表す <xref:System.Globalization.CultureInfo> オブジェクトを <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=fullName> プロパティに直接割り当てます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-138">By directly assigning a <xref:System.Globalization.CultureInfo> object that represents the localized culture to the <xref:System.Threading.Thread.CurrentUICulture%2A?displayProperty=fullName> property.</span></span>  
  
-   <span data-ttu-id="76e7a-139">カルチャが明示的に割り当てられていない場合は、<xref:System.Globalization.CultureInfo.DefaultThreadCurrentUICulture%2A?displayProperty=fullName> プロパティから既定のスレッド UI カルチャを取得します。</span><span class="sxs-lookup"><span data-stu-id="76e7a-139">If a culture is not explicitly assigned, by retrieving the default thread UI culture from the <xref:System.Globalization.CultureInfo.DefaultThreadCurrentUICulture%2A?displayProperty=fullName> property.</span></span>  
  
-   <span data-ttu-id="76e7a-140">既定のスレッド UI カルチャが明示的に割り当てられていない場合は、Windows の `GetUserDefaultUILanguage` 関数を呼び出して、ローカル コンピューター上の現在のユーザーのカルチャを取得します。</span><span class="sxs-lookup"><span data-stu-id="76e7a-140">If a default thread UI culture is not explicitly assigned, by retrieving the culture for the current user on the local computer by calling the Windows `GetUserDefaultUILanguage` function.</span></span>  
  
 <span data-ttu-id="76e7a-141">現在の UI カルチャを設定する方法の詳細については、「<xref:System.Globalization.CultureInfo>」リファレンス ページと「<xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName>」リファレンス ページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="76e7a-141">For more information about how the current UI culture is set, see the <xref:System.Globalization.CultureInfo> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName> reference pages.</span></span>  
  
 <span data-ttu-id="76e7a-142">これで、<xref:System.Resources.ResourceManager?displayProperty=fullName> クラスを使用して、現在の UI カルチャまたは特定のカルチャのリソースを取得できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-142">You can then retrieve resources for the current UI culture or for a specific culture by using the <xref:System.Resources.ResourceManager?displayProperty=fullName> class.</span></span> <span data-ttu-id="76e7a-143"><xref:System.Resources.ResourceManager> クラスはデスクトップ アプリのリソースを取得する場合に最もよく使用されますが、<xref:System.Resources?displayProperty=fullName> 名前空間には、リソースの取得に使用できるその他のタイプも含まれています。</span><span class="sxs-lookup"><span data-stu-id="76e7a-143">Although the <xref:System.Resources.ResourceManager> class is most commonly used for retrieving resources in desktop apps, the <xref:System.Resources?displayProperty=fullName> namespace contains additional types that you can use to retrieve resources.</span></span> <span data-ttu-id="76e7a-144">以下に例を示します。</span><span class="sxs-lookup"><span data-stu-id="76e7a-144">These include:</span></span>  
  
-   <span data-ttu-id="76e7a-145"><xref:System.Resources.ResourceReader> クラス。アセンブリに埋め込まれているリソースまたはスタンドアロンの .resources バイナリ ファイルに格納されているリソースを列挙できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-145">The <xref:System.Resources.ResourceReader> class, which enables you to enumerate resources embedded in an assembly or stored in a standalone binary .resources file.</span></span> <span data-ttu-id="76e7a-146">これは、実行時に使用可能なリソースの正確な名前がわからない場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-146">It is useful when you don't know the precise names of the resources that are available at run time.</span></span>  
  
-   <span data-ttu-id="76e7a-147"><xref:System.Resources.ResXResourceReader> クラス。XML (.resx) ファイルからリソースを取得できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-147">The <xref:System.Resources.ResXResourceReader> class, which enables you to retrieve resources from an XML (.resx) file.</span></span>  
  
-   <span data-ttu-id="76e7a-148"><xref:System.Resources.ResourceSet> クラス。フォールバック規則に従わずに特定のカルチャのリソースを取得できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-148">The <xref:System.Resources.ResourceSet> class, which enables you to retrieve the resources of a specific culture without observing fallback rules.</span></span> <span data-ttu-id="76e7a-149">リソースは、アセンブリ、またはスタンドアロンの .resources バイナリ ファイルに格納できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-149">The resources can be stored in an assembly or a standalone binary .resources file.</span></span> <span data-ttu-id="76e7a-150">また、<xref:System.Resources.IResourceReader> の実装も開発できます。この実装によって、<xref:System.Resources.ResourceSet> クラスを使用して他のソースからリソースを取得できるようになります。</span><span class="sxs-lookup"><span data-stu-id="76e7a-150">You can also develop an <xref:System.Resources.IResourceReader> implementation that enables you to use the <xref:System.Resources.ResourceSet> class to retrieve resources from some other source.</span></span>  
  
-   <span data-ttu-id="76e7a-151"><xref:System.Resources.ResXResourceSet> クラス。XML リソース ファイル内のすべての項目を取得してメモリに格納できます。</span><span class="sxs-lookup"><span data-stu-id="76e7a-151">The <xref:System.Resources.ResXResourceSet> class, which enables you to retrieve all the items in an XML resource file into memory.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="76e7a-152">関連項目</span><span class="sxs-lookup"><span data-stu-id="76e7a-152">See Also</span></span>  
 <span data-ttu-id="76e7a-153"><xref:System.Globalization.CultureInfo></span><span class="sxs-lookup"><span data-stu-id="76e7a-153"><xref:System.Globalization.CultureInfo></span></span>   
 <span data-ttu-id="76e7a-154"><xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName></span><span class="sxs-lookup"><span data-stu-id="76e7a-154"><xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=fullName></span></span>   
 <span data-ttu-id="76e7a-155">[アプリケーションの基本事項](../../../docs/standard/application-essentials.md) </span><span class="sxs-lookup"><span data-stu-id="76e7a-155">[Application Essentials](../../../docs/standard/application-essentials.md) </span></span>  
 <span data-ttu-id="76e7a-156">[リソース ファイルの作成](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md) </span><span class="sxs-lookup"><span data-stu-id="76e7a-156">[Creating Resource Files](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md) </span></span>  
 <span data-ttu-id="76e7a-157">[リソースのパッケージ化と配置](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) </span><span class="sxs-lookup"><span data-stu-id="76e7a-157">[Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) </span></span>  
 <span data-ttu-id="76e7a-158">[サテライト アセンブリの作成](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md) </span><span class="sxs-lookup"><span data-stu-id="76e7a-158">[Creating Satellite Assemblies](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md) </span></span>  
 [<span data-ttu-id="76e7a-159">リソースの取得</span><span class="sxs-lookup"><span data-stu-id="76e7a-159">Retrieving Resources</span></span>](../../../docs/framework/resources/retrieving-resources-in-desktop-apps.md)

