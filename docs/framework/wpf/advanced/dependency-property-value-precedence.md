---
title: "依存関係プロパティ値の優先順位"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- dependency properties [WPF], classes as owners
- dependency properties [WPF], metadata
- classes [WPF], owners of dependency properties
- metadata [WPF], dependency properties
ms.assetid: 1fbada8e-4867-4ed1-8d97-62c07dad7ebc
caps.latest.revision: "27"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 0b52b809b732f3859a7ce02a4433b2387e797932
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2017
---
# <a name="dependency-property-value-precedence"></a><span data-ttu-id="3c287-102">依存関係プロパティ値の優先順位</span><span class="sxs-lookup"><span data-stu-id="3c287-102">Dependency Property Value Precedence</span></span>
<span data-ttu-id="3c287-103"><a name="introduction"></a>このトピックでは、[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] プロパティ システムの動作が依存関係プロパティの値に与える影響と、システムのさまざまな部分がプロパティの有効な値に適用する優先順位について説明します。</span><span class="sxs-lookup"><span data-stu-id="3c287-103"><a name="introduction"></a> This topic explains how the workings of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system can affect the value of a dependency property, and describes the precedence by which aspects of the property system apply to the effective value of a property.</span></span>  
    
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="3c287-104">必須コンポーネント</span><span class="sxs-lookup"><span data-stu-id="3c287-104">Prerequisites</span></span>  
 <span data-ttu-id="3c287-105">このトピックは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] クラスの既存の依存関係プロパティのコンシューマーの観点から依存関係プロパティを理解しており、「[依存関係プロパティの概要](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)」を読んでいることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="3c287-105">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes, and have read [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span> <span data-ttu-id="3c287-106">このトピックの例について理解するには、[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] および [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] アプリケーションの記述方法について知っておく必要もあります。</span><span class="sxs-lookup"><span data-stu-id="3c287-106">To follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>  
  
<a name="intro"></a>   
## <a name="the-wpf-property-system"></a><span data-ttu-id="3c287-107">WPF プロパティ システム</span><span class="sxs-lookup"><span data-stu-id="3c287-107">The WPF Property System</span></span>  
 <span data-ttu-id="3c287-108">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] プロパティ システムは、依存関係プロパティの値をさまざまな要因によって決定し、リアルタイム プロパティの検証や遅延バインディングなどの機能を有効にし、他のプロパティの値の変更を関連プロパティに通知する、強力な手段を提供します。</span><span class="sxs-lookup"><span data-stu-id="3c287-108">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system offers a powerful way to have the value of dependency properties be determined by a variety of factors, enabling features such as real-time property validation, late binding, and notifying related properties of changes to values for other properties.</span></span> <span data-ttu-id="3c287-109">依存関係プロパティの値の決定に使われる正確な順序とロジックはかなり複雑です。</span><span class="sxs-lookup"><span data-stu-id="3c287-109">The exact order and logic that is used to determine dependency property values is reasonably complex.</span></span> <span data-ttu-id="3c287-110">この順序を知っておくと、不要なプロパティの設定を避けることができ、依存関係プロパティの値を設定または予測しようとしても期待通りにならない正確な理由についての混乱も解決される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-110">Knowing this order will help you avoid unnecessary property setting, and might also clear up confusion over exactly why some attempt to influence or anticipate a dependency property value did not end up resulting in the value you expected.</span></span>  
  
<a name="multiple_sets"></a>   
## <a name="dependency-properties-might-be-set-in-multiple-places"></a><span data-ttu-id="3c287-111">依存関係プロパティは複数の場所で "設定" される可能性がある</span><span class="sxs-lookup"><span data-stu-id="3c287-111">Dependency Properties Might Be "Set" in Multiple Places</span></span>  
 <span data-ttu-id="3c287-112">例を次に示します[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]で同じプロパティ (<xref:System.Windows.Controls.Control.Background%2A>) が 3 つの異なる「設定」操作の値に影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-112">The following is example [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] where the same property (<xref:System.Windows.Controls.Control.Background%2A>) has three different "set" operations that might influence the value.</span></span>  
  
 [!code-xaml[PropertiesOvwSupport#DPPrecedence](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml#dpprecedence)]  
  
 <span data-ttu-id="3c287-113">さて、赤、緑、青のどの色になるでしょうか。</span><span class="sxs-lookup"><span data-stu-id="3c287-113">Here, which color do you expect will apply—red, green, or blue?</span></span>  
  
 <span data-ttu-id="3c287-114">アニメーション化された値および強制型変換の場合を除き、ローカル プロパティ セットは最高の優先順位で設定されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-114">With the exception of animated values and coercion, local property sets are set at the highest precedence.</span></span> <span data-ttu-id="3c287-115">ローカルに値を設定する場合は、スタイルまたはコントロール テンプレートであっても、その値が採用されるものと期待できます。</span><span class="sxs-lookup"><span data-stu-id="3c287-115">If you set a value locally you can expect that the value will be honored, even above any styles or control templates.</span></span> <span data-ttu-id="3c287-116">例では、ここで<xref:System.Windows.Controls.Control.Background%2A>赤にローカルに設定されています。</span><span class="sxs-lookup"><span data-stu-id="3c287-116">Here in the example, <xref:System.Windows.Controls.Control.Background%2A> is set to Red locally.</span></span> <span data-ttu-id="3c287-117">したがって、それ以外の場合、そのスコープ内でその型のすべての要素に適用される暗黙的なスタイルである場合でも、このスコープで定義されているスタイルは最高の優先順位を与えるため、<xref:System.Windows.Controls.Control.Background%2A>プロパティの値。</span><span class="sxs-lookup"><span data-stu-id="3c287-117">Therefore, the style defined in this scope, even though it is an implicit style that would otherwise apply to all elements of that type in that scope, is not the highest precedence for giving the <xref:System.Windows.Controls.Control.Background%2A> property its value.</span></span>  <span data-ttu-id="3c287-118">Button インスタンスからローカル値の Red を削除すると、スタイルが優先されるようになり、ボタンの Background の値はスタイルから取得されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-118">If you removed the local value of Red from that Button instance, then the style would have precedence and the button would obtain the Background value from the style.</span></span>  <span data-ttu-id="3c287-119">スタイル内ではトリガーが優先されるので、ボタンはマウスでポイントすると青になり、それ以外の場合は緑になります。</span><span class="sxs-lookup"><span data-stu-id="3c287-119">Within the style, triggers take precedence, so the button will be blue if the mouse is over it, and green otherwise.</span></span>  
  
<a name="listing"></a>   
## <a name="dependency-property-setting-precedence-list"></a><span data-ttu-id="3c287-120">依存関係プロパティの設定の優先順位一覧</span><span class="sxs-lookup"><span data-stu-id="3c287-120">Dependency Property Setting Precedence List</span></span>  
 <span data-ttu-id="3c287-121">次に示すのは、依存関係プロパティの実行時の値を割り当てるときにプロパティ システムが使う明確な順序です。</span><span class="sxs-lookup"><span data-stu-id="3c287-121">The following is the definitive order that the property system uses when assigning the run-time values of dependency properties.</span></span> <span data-ttu-id="3c287-122">優先順位が高いものから順に示されています。</span><span class="sxs-lookup"><span data-stu-id="3c287-122">Highest precedence is listed first.</span></span> <span data-ttu-id="3c287-123">この一覧では、「[依存関係プロパティの概要](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)」で一般化されていたものを拡張してあります。</span><span class="sxs-lookup"><span data-stu-id="3c287-123">This list expands on some of the generalizations made in the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span>  
  
1.  <span data-ttu-id="3c287-124">**プロパティ システムの強制型変換。**</span><span class="sxs-lookup"><span data-stu-id="3c287-124">**Property system coercion.**</span></span> <span data-ttu-id="3c287-125">強制型変換について詳しくは、後の「[強制型変換、アニメーション、基本値](#animations)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-125">For details on coercion, see [Coercion, Animation, and Base Value](#animations) later in this topic.</span></span>  
  
2.  <span data-ttu-id="3c287-126">**アクティブなアニメーション、または保留動作のアニメーション。**</span><span class="sxs-lookup"><span data-stu-id="3c287-126">**Active animations, or animations with a Hold behavior.**</span></span> <span data-ttu-id="3c287-127">実際的な効果を得るためには、プロパティのアニメーションは、基本 (アニメーション化されていない) 値 (ローカルに設定された値であっても) より高い優先順位を持つことができる必要があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-127">In order to have any practical effect, an animation of a property must be able to have precedence over the base (unanimated) value, even if that value was set locally.</span></span> <span data-ttu-id="3c287-128">詳しくは、後の「[強制型変換、アニメーション、基本値](#animations)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-128">For details, see [Coercion, Animation, and Base Value](#animations) later in this topic.</span></span>  
  
3.  <span data-ttu-id="3c287-129">**ローカル値。**</span><span class="sxs-lookup"><span data-stu-id="3c287-129">**Local value.**</span></span> <span data-ttu-id="3c287-130">内の属性またはプロパティ要素として設定することに相当な「ラッパー」プロパティの利便性をローカルの値を設定する場合も[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]、またはへの呼び出しによって、 <xref:System.Windows.DependencyObject.SetValue%2A> [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)]特定のインスタンスのプロパティを使用します。</span><span class="sxs-lookup"><span data-stu-id="3c287-130">A local value might be set through the convenience of the "wrapper" property, which also equates to setting as an attribute or property element in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], or by a call to the <xref:System.Windows.DependencyObject.SetValue%2A> [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] using a property of a specific instance.</span></span> <span data-ttu-id="3c287-131">バインドまたはリソースを使ってローカル値を設定する場合、これらは直接値が設定された場合のように優先されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-131">If you set a local value by using a binding or a resource, these each act in the precedence as if a direct value was set.</span></span>  
  
4.  <span data-ttu-id="3c287-132">**TemplatedParent テンプレート プロパティ。**</span><span class="sxs-lookup"><span data-stu-id="3c287-132">**TemplatedParent template properties.**</span></span> <span data-ttu-id="3c287-133">要素が、<xref:System.Windows.FrameworkElement.TemplatedParent%2A>テンプレートの一部として作成された場合 (、<xref:System.Windows.Controls.ControlTemplate>または<xref:System.Windows.DataTemplate>)。</span><span class="sxs-lookup"><span data-stu-id="3c287-133">An element has a <xref:System.Windows.FrameworkElement.TemplatedParent%2A> if it was created as part of a template (a <xref:System.Windows.Controls.ControlTemplate> or <xref:System.Windows.DataTemplate>).</span></span> <span data-ttu-id="3c287-134">これが適用されるケースについて詳しくは、後の「[TemplatedParent](#templatedparent)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-134">For details on when this applies, see [TemplatedParent](#templatedparent) later in this topic.</span></span> <span data-ttu-id="3c287-135">テンプレート内では、次の優先順位が適用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-135">Within the template, the following precedence applies:</span></span>  
  
    1.  <span data-ttu-id="3c287-136">[トリガー]、<xref:System.Windows.FrameworkElement.TemplatedParent%2A>テンプレート。</span><span class="sxs-lookup"><span data-stu-id="3c287-136">Triggers from the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template.</span></span>  
  
    2.  <span data-ttu-id="3c287-137">プロパティ セット (通常を通じて[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]属性) で、<xref:System.Windows.FrameworkElement.TemplatedParent%2A>テンプレート。</span><span class="sxs-lookup"><span data-stu-id="3c287-137">Property sets (typically through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] attributes) in the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template.</span></span>  
  
5.  <span data-ttu-id="3c287-138">**暗黙的スタイル。**</span><span class="sxs-lookup"><span data-stu-id="3c287-138">**Implicit style.**</span></span> <span data-ttu-id="3c287-139">`Style` プロパティのみに適用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-139">Applies only to the `Style` property.</span></span> <span data-ttu-id="3c287-140">`Style` プロパティは、その要素の型と一致するキーを持つスタイル リソースによって設定されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-140">The `Style` property is filled by any style resource with a key that matches the type of that element.</span></span> <span data-ttu-id="3c287-141">そのスタイル リソースは、ページまたはアプリケーション内に存在する必要があります。暗黙的スタイル リソースの参照はテーマまでは及びません。</span><span class="sxs-lookup"><span data-stu-id="3c287-141">That style resource must exist either in the page or the application; lookup for an implicit style resource does not proceed into the themes.</span></span>  
  
6.  <span data-ttu-id="3c287-142">**スタイルのトリガー。**</span><span class="sxs-lookup"><span data-stu-id="3c287-142">**Style triggers.**</span></span> <span data-ttu-id="3c287-143">ページまたはアプリケーションに含まれるスタイル内のトリガー (これらのスタイルは、明示的スタイルまたは暗黙的スタイルどちらの場合もありますが、優先順位の低い既定スタイルではありません)。</span><span class="sxs-lookup"><span data-stu-id="3c287-143">The triggers within styles from page or application (these styles might be either explicit or implicit styles, but not from the default styles, which have lower precedence).</span></span>  
  
7.  <span data-ttu-id="3c287-144">**テンプレートのトリガー。**</span><span class="sxs-lookup"><span data-stu-id="3c287-144">**Template triggers.**</span></span> <span data-ttu-id="3c287-145">スタイル内のテンプレートまたは直接適用されたテンプレートからのトリガーです。</span><span class="sxs-lookup"><span data-stu-id="3c287-145">Any trigger from a template within a style, or a directly applied template.</span></span>  
  
8.  <span data-ttu-id="3c287-146">**スタイルのセッター。**</span><span class="sxs-lookup"><span data-stu-id="3c287-146">**Style setters.**</span></span> <span data-ttu-id="3c287-147">値から、<xref:System.Windows.Setter>ページまたはアプリケーションからのスタイル内です。</span><span class="sxs-lookup"><span data-stu-id="3c287-147">Values from a <xref:System.Windows.Setter> within styles from page or application.</span></span>  
  
9. <span data-ttu-id="3c287-148">**既定 (テーマ) のスタイル。**</span><span class="sxs-lookup"><span data-stu-id="3c287-148">**Default (theme) style.**</span></span> <span data-ttu-id="3c287-149">これが適用される場合、およびテーマ スタイルとテーマ スタイル内のテンプレートの関係について詳しくは、後の「[既定 (テーマ) のスタイル](#themestyles)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-149">For details on when this applies, and how theme styles relate to the templates within theme styles, see [Default (Theme) Styles](#themestyles) later in this topic.</span></span> <span data-ttu-id="3c287-150">既定のスタイル内では、次の優先順位が適用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-150">Within a default style, the following order of precedence applies:</span></span>  
  
    1.  <span data-ttu-id="3c287-151">テーマ スタイル内のアクティブなトリガー。</span><span class="sxs-lookup"><span data-stu-id="3c287-151">Active triggers in the theme style.</span></span>  
  
    2.  <span data-ttu-id="3c287-152">テーマ スタイル内のセッター。</span><span class="sxs-lookup"><span data-stu-id="3c287-152">Setters in the theme style.</span></span>  
  
10. <span data-ttu-id="3c287-153">**継承。**</span><span class="sxs-lookup"><span data-stu-id="3c287-153">**Inheritance.**</span></span> <span data-ttu-id="3c287-154">いくつかの依存関係プロパティは親要素から子要素に値を継承するので、アプリケーション全体で各要素に値を明示的に設定する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="3c287-154">A few dependency properties inherit their values from parent element to child elements, such that they need not be set specifically on each element throughout an application.</span></span> <span data-ttu-id="3c287-155">詳しくは、「[プロパティ値の継承](../../../../docs/framework/wpf/advanced/property-value-inheritance.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-155">For details see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span></span>  
  
11. <span data-ttu-id="3c287-156">**依存関係プロパティのメタデータの既定値。**</span><span class="sxs-lookup"><span data-stu-id="3c287-156">**Default value from dependency property metadata.**</span></span> <span data-ttu-id="3c287-157">どの依存関係プロパティも、その特定のプロパティがプロパティ システムに登録されるときに設定される既定値を持つことができます。</span><span class="sxs-lookup"><span data-stu-id="3c287-157">Any given dependency property may have a default value as established by the property system registration of that particular property.</span></span> <span data-ttu-id="3c287-158">また、依存関係プロパティを継承する派生クラスには、型ごとにそのメタデータ (既定値を含む) をオーバーライドするオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="3c287-158">Also, derived classes that inherit a dependency property have the option to override that metadata (including the default value) on a per-type basis.</span></span> <span data-ttu-id="3c287-159">詳しくは、「[依存関係プロパティのメタデータ](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-159">See [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md) for more information.</span></span> <span data-ttu-id="3c287-160">継承は既定値の前にチェックされるため、継承されるプロパティの場合、親要素の既定値の方が子要素より優先されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-160">Because inheritance is checked before default value, for an inherited property, a parent element default value takes precedence over a child element.</span></span>  <span data-ttu-id="3c287-161">その結果、継承可能なプロパティがどこでも設定されていない場合は、ルートまたは親で指定されている既定値が、子要素の既定値の代わりに使われます。</span><span class="sxs-lookup"><span data-stu-id="3c287-161">Consequently, if an inheritable property is not set anywhere, the default value as specified on the root or parent is used instead of the child element default value.</span></span>  
  
<a name="templatedparent"></a>   
## <a name="templatedparent"></a><span data-ttu-id="3c287-162">TemplatedParent</span><span class="sxs-lookup"><span data-stu-id="3c287-162">TemplatedParent</span></span>  
 <span data-ttu-id="3c287-163">優先順位の項目としての TemplatedParent は、標準アプリケーション マークアップで直接宣言された要素のプロパティには適用されません。</span><span class="sxs-lookup"><span data-stu-id="3c287-163">TemplatedParent as a precedence item does not apply to any property of an element that you declare directly in standard application markup.</span></span> <span data-ttu-id="3c287-164">TemplatedParent の概念は、テンプレートの適用によって作成されるビジュアル ツリー内の子項目に対してのみ存在します。</span><span class="sxs-lookup"><span data-stu-id="3c287-164">The TemplatedParent concept exists only for child items within a visual tree that come into existence through the application of the template.</span></span> <span data-ttu-id="3c287-165">プロパティ システムを検索すると、<xref:System.Windows.FrameworkElement.TemplatedParent%2A>値用のテンプレート、その要素を作成したテンプレートが検索されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-165">When the property system searches the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template for a value, it is searching the template that created that element.</span></span> <span data-ttu-id="3c287-166">プロパティの値から、<xref:System.Windows.FrameworkElement.TemplatedParent%2A>テンプレートは、一般に設定されているものをローカルの値として、子要素には、テンプレートが共有される可能性があるために、このいずれか小さいほうの優先順位とローカルの値が存在するかのように動作します。</span><span class="sxs-lookup"><span data-stu-id="3c287-166">The property values from the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template generally act as if they were set as a local value on the child element, but this lesser precedence versus the local value exists because the templates are potentially shared.</span></span> <span data-ttu-id="3c287-167">詳細については、「<xref:System.Windows.FrameworkElement.TemplatedParent%2A>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="3c287-167">For details, see <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span></span>  
  
<a name="style_property"></a>   
## <a name="the-style-property"></a><span data-ttu-id="3c287-168">スタイル プロパティ</span><span class="sxs-lookup"><span data-stu-id="3c287-168">The Style Property</span></span>  
 <span data-ttu-id="3c287-169">1 つを除くすべての可能な依存関係プロパティに適用される前に説明した参照の順序:<xref:System.Windows.FrameworkElement.Style%2A>プロパティです。</span><span class="sxs-lookup"><span data-stu-id="3c287-169">The order of lookup described earlier applies to all possible dependency properties except one: the <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="3c287-170"><xref:System.Windows.FrameworkElement.Style%2A>プロパティは一意にできない自体スタイル設定することが優先順位の項目 5. ~ 8. は適用されません。</span><span class="sxs-lookup"><span data-stu-id="3c287-170">The <xref:System.Windows.FrameworkElement.Style%2A> property is unique in that it cannot itself be styled, so the precedence items 5 through 8 do not apply.</span></span> <span data-ttu-id="3c287-171">また、アニメーション化するか、強制型変換<xref:System.Windows.FrameworkElement.Style%2A>はお勧めしません (アニメーション化して<xref:System.Windows.FrameworkElement.Style%2A>アニメーション クラスが必要になります)。</span><span class="sxs-lookup"><span data-stu-id="3c287-171">Also, either animating or coercing <xref:System.Windows.FrameworkElement.Style%2A> is not recommended (and animating <xref:System.Windows.FrameworkElement.Style%2A> would require a custom animation class).</span></span> <span data-ttu-id="3c287-172">これにより、3 つの方法を<xref:System.Windows.FrameworkElement.Style%2A>プロパティを設定することがあります。</span><span class="sxs-lookup"><span data-stu-id="3c287-172">This leaves three ways that the <xref:System.Windows.FrameworkElement.Style%2A> property might be set:</span></span>  
  
-   <span data-ttu-id="3c287-173">**明示的スタイル。**</span><span class="sxs-lookup"><span data-stu-id="3c287-173">**Explicit style.**</span></span> <span data-ttu-id="3c287-174"><xref:System.Windows.FrameworkElement.Style%2A>プロパティが直接設定します。</span><span class="sxs-lookup"><span data-stu-id="3c287-174">The <xref:System.Windows.FrameworkElement.Style%2A> property is set directly.</span></span> <span data-ttu-id="3c287-175">ほとんどの場合、スタイルはインラインでは定義されず、代わりにリソースとして明示的なキーにより参照されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-175">In most scenarios, the style is not defined inline, but instead is referenced as a resource, by explicit key.</span></span> <span data-ttu-id="3c287-176">この場合、スタイル プロパティ自体は、ローカル値と同じように扱われます (優先順位の項目 3)。</span><span class="sxs-lookup"><span data-stu-id="3c287-176">In this case the Style property itself acts as if it were a local value, precedence item 3.</span></span>  
  
-   <span data-ttu-id="3c287-177">**暗黙的スタイル。**</span><span class="sxs-lookup"><span data-stu-id="3c287-177">**Implicit style.**</span></span> <span data-ttu-id="3c287-178"><xref:System.Windows.FrameworkElement.Style%2A>プロパティが直接設定されていません。</span><span class="sxs-lookup"><span data-stu-id="3c287-178">The <xref:System.Windows.FrameworkElement.Style%2A> property is not set directly.</span></span> <span data-ttu-id="3c287-179">ただし、<xref:System.Windows.FrameworkElement.Style%2A>リソース ルックアップ シーケンス (ページ、アプリケーション) の特定のレベルに存在してに適用されるスタイルは、型と一致するリソース キーを使用してが付いています。</span><span class="sxs-lookup"><span data-stu-id="3c287-179">However, the <xref:System.Windows.FrameworkElement.Style%2A> exists at some level in the resource lookup sequence (page, application) and is keyed using a resource key that matches the type the style is to be applied to.</span></span> <span data-ttu-id="3c287-180">ここで、<xref:System.Windows.FrameworkElement.Style%2A>プロパティ自体は、項目 5 シーケンス内の特定の優先順位によって動作します。</span><span class="sxs-lookup"><span data-stu-id="3c287-180">In this case, the <xref:System.Windows.FrameworkElement.Style%2A> property itself acts by a precedence identified in the sequence as item 5.</span></span> <span data-ttu-id="3c287-181">使用してこのような状況を検出できる<xref:System.Windows.DependencyPropertyHelper>に対して、<xref:System.Windows.FrameworkElement.Style%2A>プロパティおよび探して<xref:System.Windows.BaseValueSource.ImplicitStyleReference>結果にします。</span><span class="sxs-lookup"><span data-stu-id="3c287-181">This condition can be detected by using <xref:System.Windows.DependencyPropertyHelper> against the <xref:System.Windows.FrameworkElement.Style%2A> property and looking for <xref:System.Windows.BaseValueSource.ImplicitStyleReference> in the results.</span></span>  
  
-   <span data-ttu-id="3c287-182">**既定のスタイル** (別称**テーマ スタイル**)。</span><span class="sxs-lookup"><span data-stu-id="3c287-182">**Default style**, also known as **theme style.**</span></span> <span data-ttu-id="3c287-183"><xref:System.Windows.FrameworkElement.Style%2A>プロパティを直接設定されていないととして実際に読み取られます`null`実行時までです。</span><span class="sxs-lookup"><span data-stu-id="3c287-183">The <xref:System.Windows.FrameworkElement.Style%2A> property is not set directly, and in fact will read as `null` up until run time.</span></span> <span data-ttu-id="3c287-184">この場合、スタイルは、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] プレゼンテーション エンジンの一部である実行時テーマ評価によって決定されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-184">In this case, the style comes from the run-time theme evaluation that is part of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] presentation engine.</span></span>  
  
 <span data-ttu-id="3c287-185">テーマに含まれない暗黙的スタイルの場合は、型が厳密に一致する必要があります。`MyButton``Button` の派生クラスでは、`Button` のスタイルは暗黙的に使われません。</span><span class="sxs-lookup"><span data-stu-id="3c287-185">For implicit styles not in themes, the type must match exactly—a `MyButton``Button`-derived class will not implicitly use a style for `Button`.</span></span>  
  
<a name="themestyles"></a>   
## <a name="default-theme-styles"></a><span data-ttu-id="3c287-186">既定 (テーマ) のスタイル</span><span class="sxs-lookup"><span data-stu-id="3c287-186">Default (Theme) Styles</span></span>  
 <span data-ttu-id="3c287-187">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] に付属するすべてのコントロールには、既定のスタイルがあります。</span><span class="sxs-lookup"><span data-stu-id="3c287-187">Every control that ships with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has a default style.</span></span> <span data-ttu-id="3c287-188">既定のスタイルはテーマによって異なる場合があり、そのため、この既定のスタイルはテーマのスタイルとも呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="3c287-188">That default style potentially varies by theme, which is why this default style is sometimes referred to as a theme style.</span></span>  
  
 <span data-ttu-id="3c287-189">最も重要な情報が見つかりました。 既定のスタイル内でコントロールは、コントロール テンプレート、テーマのスタイルにに対して set アクセス操作子として存在しているその<xref:System.Windows.Controls.Control.Template%2A>プロパティです。</span><span class="sxs-lookup"><span data-stu-id="3c287-189">The most important information that is found within a default style for a control is its control template, which exists in the theme style as a setter for its <xref:System.Windows.Controls.Control.Template%2A> property.</span></span> <span data-ttu-id="3c287-190">既定のスタイルにテンプレートがない場合、カスタム スタイルの一部としてカスタム テンプレートがないコントロールは、まったく表示されません。</span><span class="sxs-lookup"><span data-stu-id="3c287-190">If there were no template from default styles, a control without a custom template as part of a custom style would have no visual appearance at all.</span></span> <span data-ttu-id="3c287-191">既定のスタイルのテンプレートは、各コントロールの外観に基本的な構造を提供し、テンプレートのビジュアル ツリーで定義されているプロパティと、対応するコントロール クラスの間の接続を定義します。</span><span class="sxs-lookup"><span data-stu-id="3c287-191">The template from the default style gives the visual appearance of each control a basic structure, and also defines the connections between properties defined in the visual tree of the template and the corresponding control class.</span></span> <span data-ttu-id="3c287-192">各コントロールでは、テンプレートを完全に置き換えることなくコントロールの外観に影響を与えることができる、一連のプロパティが公開されています。</span><span class="sxs-lookup"><span data-stu-id="3c287-192">Each control exposes a set of properties that can influence the visual appearance of the control without completely replacing the template.</span></span> <span data-ttu-id="3c287-193">たとえば、既定の外観、<xref:System.Windows.Controls.Primitives.Thumb>コンポーネントにあるコントロールの<xref:System.Windows.Controls.Primitives.ScrollBar>です。</span><span class="sxs-lookup"><span data-stu-id="3c287-193">For example, consider the default visual appearance of a <xref:System.Windows.Controls.Primitives.Thumb> control, which is a component of a <xref:System.Windows.Controls.Primitives.ScrollBar>.</span></span>  
  
 <span data-ttu-id="3c287-194">A<xref:System.Windows.Controls.Primitives.Thumb>は特定のカスタマイズ可能なプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="3c287-194">A <xref:System.Windows.Controls.Primitives.Thumb> has certain customizable properties.</span></span> <span data-ttu-id="3c287-195">既定のテンプレート、<xref:System.Windows.Controls.Primitives.Thumb>基本的な構造を作成するいくつかのビジュアル ツリーの入れ子になった/<xref:System.Windows.Controls.Border>傾斜の外観を作成するにはコンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="3c287-195">The default template of a <xref:System.Windows.Controls.Primitives.Thumb> creates a basic structure / visual tree with several nested <xref:System.Windows.Controls.Border> components to create a bevel look.</span></span> <span data-ttu-id="3c287-196">テンプレートの一部であるプロパティによるカスタマイズを公開する場合は、<xref:System.Windows.Controls.Primitives.Thumb>クラス、によってそのプロパティを公開する必要があり、 [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md)テンプレート内で。</span><span class="sxs-lookup"><span data-stu-id="3c287-196">If a property that is part of the template is intended to be exposed for customization by the <xref:System.Windows.Controls.Primitives.Thumb> class, then that property must be exposed by a [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md), within the template.</span></span> <span data-ttu-id="3c287-197">場合、 <xref:System.Windows.Controls.Primitives.Thumb>、これらの罫線のさまざまなプロパティなどのプロパティにテンプレート バインディングを共有<xref:System.Windows.Controls.Border.Background%2A>または<xref:System.Windows.Controls.Border.BorderThickness%2A>です。</span><span class="sxs-lookup"><span data-stu-id="3c287-197">In the case of <xref:System.Windows.Controls.Primitives.Thumb>, various properties of these borders share a template binding to properties such as <xref:System.Windows.Controls.Border.Background%2A> or <xref:System.Windows.Controls.Border.BorderThickness%2A>.</span></span> <span data-ttu-id="3c287-198">しかし、他の特定のプロパティや視覚的な配置は、コントロール テンプレートにハードコードされているか、またはテーマから直接取得される値にバインドされており、テンプレート全体を置き換えない限り変更できません。</span><span class="sxs-lookup"><span data-stu-id="3c287-198">But certain other properties or visual arrangements are hard-coded into the control template or are bound to values that come directly from the theme, and cannot be changed short of replacing the entire template.</span></span> <span data-ttu-id="3c287-199">一般に、プロパティがテンプレート化された親から取得され、テンプレートのバインドによって公開されない場合は、それをターゲットにする簡単な方法がないため、そのプロパティをスタイルによって調整することはできません。</span><span class="sxs-lookup"><span data-stu-id="3c287-199">Generally, if a property comes from a templated parent and is not exposed by a template binding, it cannot be adjusted by styles because there is no easy way to target it.</span></span> <span data-ttu-id="3c287-200">ただし、適用されるテンプレートのプロパティ値継承または既定値によって、そのプロパティに影響を与えることはできます。</span><span class="sxs-lookup"><span data-stu-id="3c287-200">But that property could still be influenced by property value inheritance in the applied template, or by default value.</span></span>  
  
 <span data-ttu-id="3c287-201">テーマのスタイルでは、定義のキーとして型を使います。</span><span class="sxs-lookup"><span data-stu-id="3c287-201">The theme styles use a type as the key in their definitions.</span></span> <span data-ttu-id="3c287-202">ただし、テーマが指定された要素のインスタンスに適用されると、この種類の参照にテーマが実行をチェックして、<xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>コントロールのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="3c287-202">However, when themes are applied to a given element instance, themes lookup for this type is performed by checking the <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> property on a control.</span></span> <span data-ttu-id="3c287-203">これは、暗黙的スタイルで行われるリテラル型の使用とは対照的です。</span><span class="sxs-lookup"><span data-stu-id="3c287-203">This is in contrast to using the literal Type, as implicit styles do.</span></span> <span data-ttu-id="3c287-204">値<xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>実行者変更していない (目的のプロパティを変更する方法では、このメソッドをオーバーライドするが、プロパティ レベルに代わりに既定値をプロパティのメタデータの変更が) 場合でもは、派生クラスに継承します。</span><span class="sxs-lookup"><span data-stu-id="3c287-204">The value of <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> would inherit to derived classes even if the implementer did not change it (the intended way of changing the property is not to override it at the property level, but to instead change its default value in property metadata).</span></span> <span data-ttu-id="3c287-205">この間接参照により、基底クラスは、他の方法ではスタイルを持たない派生要素に対してテーマのスタイルを定義できます (または、さらに重要なのは、スタイル内にテンプレートを持たず、既定の外観がないということです)。</span><span class="sxs-lookup"><span data-stu-id="3c287-205">This indirection enables base classes to define the theme styles for derived elements that do not otherwise have a style (or more importantly, do not have a template within that style and would thus have no default visual appearance at all).</span></span> <span data-ttu-id="3c287-206">したがって、派生させることができます`MyButton`から<xref:System.Windows.Controls.Button>でもと、<xref:System.Windows.Controls.Button>既定のテンプレートです。</span><span class="sxs-lookup"><span data-stu-id="3c287-206">Thus, you can derive `MyButton` from <xref:System.Windows.Controls.Button> and will still get the <xref:System.Windows.Controls.Button> default template.</span></span> <span data-ttu-id="3c287-207">場合は、コントロールの作成者の`MyButton`とは異なる動作が必要なの依存関係プロパティのメタデータをオーバーライドする可能性があります<xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>で`MyButton`別のキーを返し、テンプレートを含む関連のテーマのスタイルを定義するには`MyButton`と共にパッケージ化する必要がある、`MyButton`コントロール。</span><span class="sxs-lookup"><span data-stu-id="3c287-207">If you were the control author of `MyButton` and you wanted a different behavior, you could override the dependency property metadata for <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> on `MyButton` to return a different key, and then define the relevant theme styles including template for `MyButton` that you must package with your `MyButton` control.</span></span> <span data-ttu-id="3c287-208">テーマ、スタイル、コントロールの作成について詳しくは、「[コントロールの作成の概要](../../../../docs/framework/wpf/controls/control-authoring-overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-208">For more details on themes, styles, and control authoring, see [Control Authoring Overview](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span></span>  
  
<a name="resources"></a>   
## <a name="dynamic-resource-references-and-binding"></a><span data-ttu-id="3c287-209">動的リソース参照とバインド</span><span class="sxs-lookup"><span data-stu-id="3c287-209">Dynamic Resource References and Binding</span></span>  
 <span data-ttu-id="3c287-210">動的リソース参照とバインド操作には、それらが設定される場所での優先順位が適用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-210">Dynamic resource references and binding operations respect the precedence of the location at which they are set.</span></span> <span data-ttu-id="3c287-211">たとえば、ローカル値に適用される動的リソースは優先順位の項目 3 に準拠し、テーマ スタイル内のプロパティ セッターに対するバインドには優先順位の項目 9 が適用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-211">For example, a dynamic resource applied to a local value acts per precedence item 3, a binding for a property setter within a theme style applies at precedence item 9, and so on.</span></span> <span data-ttu-id="3c287-212">動的リソース参照とバインドはどちらもアプリケーションの実行時状態から値を取得できる必要があるので、特定のプロパティに対するプロパティ値の優先順位を決定する実際のプロセスは、実行時まで拡張されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-212">Because dynamic resource references and binding must both be able to obtain values from the run time state of the application, this entails that the actual process of determining the property value precedence for any given property extends into the run time as well.</span></span>  
  
 <span data-ttu-id="3c287-213">厳密に言うと、動的リソース参照はプロパティ システムの一部ではありませんが、上で示したシーケンスに対応する独自の参照順序を持ちます。</span><span class="sxs-lookup"><span data-stu-id="3c287-213">Dynamic resource references are not strictly speaking part of the property system, but they do have a lookup order of their own which interacts with the sequence listed above.</span></span> <span data-ttu-id="3c287-214">その優先順位について詳しくは、「[XAML リソース](../../../../docs/framework/wpf/advanced/xaml-resources.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-214">That precedence is documented more thoroughly in the [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span> <span data-ttu-id="3c287-215">基本的な優先順位をまとめると、ページ ルートの要素、アプリケーション、テーマ、システムになります。</span><span class="sxs-lookup"><span data-stu-id="3c287-215">The basic summation of that precedence is: element to page root, application, theme, system.</span></span>  
  
 <span data-ttu-id="3c287-216">動的リソースとバインドには設定された場所での優先順位がありますが、値は遅延されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-216">Dynamic resources and bindings have the precedence of where they were set, but the value is deferred.</span></span> <span data-ttu-id="3c287-217">その 1 つの帰結として、ローカル値に動的リソースまたはバインドを設定した場合、ローカル値を変更すると動的リソースまたはバインドが完全に置き換えられます。</span><span class="sxs-lookup"><span data-stu-id="3c287-217">One consequence of this is that if you set a dynamic resource or binding to a local value, any change to the local value replaces the dynamic resource or binding entirely.</span></span> <span data-ttu-id="3c287-218">呼び出す場合でも、<xref:System.Windows.DependencyObject.ClearValue%2A>ローカルに設定を消去するメソッドの値では、動的なリソースまたはバインドは復元されません。</span><span class="sxs-lookup"><span data-stu-id="3c287-218">Even if you call the <xref:System.Windows.DependencyObject.ClearValue%2A> method to clear the locally set value, the dynamic resource or binding will not be restored.</span></span> <span data-ttu-id="3c287-219">実際には、呼び出した場合<xref:System.Windows.DependencyObject.ClearValue%2A>をインプレース (でリテラル ローカル値はありません)、動的なリソースまたはバインディングを持つプロパティをオフにしたによって、<xref:System.Windows.DependencyObject.ClearValue%2A>すぎますを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="3c287-219">In fact, if you call <xref:System.Windows.DependencyObject.ClearValue%2A> on a property that has a dynamic resource or binding in place (with no literal local value), they are cleared by the <xref:System.Windows.DependencyObject.ClearValue%2A> call too.</span></span>  
  
<a name="setcurrentvalue"></a>   
## <a name="setcurrentvalue"></a><span data-ttu-id="3c287-220">SetCurrentValue</span><span class="sxs-lookup"><span data-stu-id="3c287-220">SetCurrentValue</span></span>  
 <span data-ttu-id="3c287-221"><xref:System.Windows.DependencyObject.SetCurrentValue%2A>メソッドは、プロパティを設定する別の方法が、優先順位の順序ではありません。</span><span class="sxs-lookup"><span data-stu-id="3c287-221">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method is another way to set a property, but it is not in the order of precedence.</span></span> <span data-ttu-id="3c287-222">代わりに、<xref:System.Windows.DependencyObject.SetCurrentValue%2A>前の値のソースを上書きすることがなく、プロパティの値を変更することができます。</span><span class="sxs-lookup"><span data-stu-id="3c287-222">Instead, <xref:System.Windows.DependencyObject.SetCurrentValue%2A> enables you to change the value of a property without overwriting the source of a previous value.</span></span> <span data-ttu-id="3c287-223">使用することができます<xref:System.Windows.DependencyObject.SetCurrentValue%2A>いつでもローカル値の優先順位をその値に与えることがなく、値を設定します。</span><span class="sxs-lookup"><span data-stu-id="3c287-223">You can use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> any time that you want to set a value without giving that value the precedence of a local value.</span></span> <span data-ttu-id="3c287-224">たとえば、プロパティは、トリガーによって設定され、経由で別の値を代入して<xref:System.Windows.DependencyObject.SetCurrentValue%2A>プロパティ システムは引き続き、トリガーを尊重、およびトリガーのアクションが発生した場合、プロパティが変更されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-224">For example, if a property is set by a trigger and then assigned another value via <xref:System.Windows.DependencyObject.SetCurrentValue%2A>, the property system still respects the trigger and the property will change if the trigger’s action occurs.</span></span> <span data-ttu-id="3c287-225"><xref:System.Windows.DependencyObject.SetCurrentValue%2A>優先順位の高い、ソースを指定せず、プロパティの値を変更できます。</span><span class="sxs-lookup"><span data-stu-id="3c287-225"><xref:System.Windows.DependencyObject.SetCurrentValue%2A> enables you to change the property’s value without giving it a source with a higher precedence.</span></span> <span data-ttu-id="3c287-226">同様に、使用することができます<xref:System.Windows.DependencyObject.SetCurrentValue%2A>バインドを上書きすることがなく、プロパティの値を変更します。</span><span class="sxs-lookup"><span data-stu-id="3c287-226">Likewise, you can use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> to change the value of a property without overwriting a binding.</span></span>  
  
<a name="animations"></a>   
## <a name="coercion-animations-and-base-value"></a><span data-ttu-id="3c287-227">強制型変換、アニメーション、基本値</span><span class="sxs-lookup"><span data-stu-id="3c287-227">Coercion, Animations, and Base Value</span></span>  
 <span data-ttu-id="3c287-228">強制型変換とアニメーションはどちらも、この [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)] で "基本値" と呼ぶ値に対して作用します。</span><span class="sxs-lookup"><span data-stu-id="3c287-228">Coercion and animation both act on a value that is termed as the "base value" throughout this [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)].</span></span> <span data-ttu-id="3c287-229">したがって、基本値とは、項目 2 に達するまで項目をさかのぼって評価されることにより決定される値です。</span><span class="sxs-lookup"><span data-stu-id="3c287-229">The base value is thus whatever value is determined through evaluating upwards in the items until item 2 is reached.</span></span>  
  
 <span data-ttu-id="3c287-230">アニメーションの場合、アニメーションで特定の動作に対して "From" と "To" の両方が指定されていない場合、またはアニメーションが完了すると基本値に意図的に戻る場合は、基本値を使ってアニメーション化される値に影響を及ぼすことができます。</span><span class="sxs-lookup"><span data-stu-id="3c287-230">For an animation, the base value can have an effect on the animated value, if that animation does not specify both "From" and "To" for certain behaviors, or if the animation deliberately reverts to the base value when completed.</span></span> <span data-ttu-id="3c287-231">実際にどうなるのかを見るには、「[From, To, and By Animation Target Values Sample](http://go.microsoft.com/fwlink/?LinkID=159988)」(アニメーション ターゲット値 From、To、By のサンプル) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-231">To see this in practice, run the [From, To, and By Animation Target Values Sample](http://go.microsoft.com/fwlink/?LinkID=159988).</span></span> <span data-ttu-id="3c287-232">この例で、四角形の高さのローカル値を、初期ローカル値がアニメーションの "From" と異なるように設定してみます。</span><span class="sxs-lookup"><span data-stu-id="3c287-232">Try setting the local values of the rectangle height in the example, such that the initial local value differs from any "From" in the animation.</span></span> <span data-ttu-id="3c287-233">アニメーションが "From" の値を使ってすぐに開始し、開始すると基本値を置き換えることがわかります。</span><span class="sxs-lookup"><span data-stu-id="3c287-233">You will note that the animations start right away using the "From" values and replace the base value once started.</span></span> <span data-ttu-id="3c287-234">アニメーションをアニメーションする前に、停止を指定することによって完了に検索された値に戻るには指定可能性があります<xref:System.Windows.Media.Animation.FillBehavior>です。</span><span class="sxs-lookup"><span data-stu-id="3c287-234">The animation might specify to return to the value found before animation once it is completed by specifying the Stop <xref:System.Windows.Media.Animation.FillBehavior>.</span></span> <span data-ttu-id="3c287-235">その後は、通常の優先順位が基本値の決定に使用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-235">Afterwards, normal precedence is used for the base value determination.</span></span>  
  
 <span data-ttu-id="3c287-236">1 つのプロパティに複数のアニメーションが適用され、各アニメーションが値の優先順位の異なるポイントから定義されている場合があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-236">Multiple animations might be applied to a single property, with each of these animations possibly having been defined from different points in the value precedence.</span></span> <span data-ttu-id="3c287-237">ただし、これらのアニメーションは、優先順位の高いアニメーションから単純に適用されるのではなく、値が合成される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-237">However, these animations will potentially composite their values, rather than just applying the animation from the higher precedence.</span></span> <span data-ttu-id="3c287-238">これは、アニメーションの定義方法と、アニメーション化される値の型に依存します。</span><span class="sxs-lookup"><span data-stu-id="3c287-238">This depends on exactly how the animations are defined, and the type of the value that is being animated.</span></span> <span data-ttu-id="3c287-239">プロパティのアニメーション化について詳しくは、「[アニメーションの概要](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-239">For more information about animating properties, see [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span></span>  
  
 <span data-ttu-id="3c287-240">強制型変換は、すべての最高レベルで適用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-240">Coercion applies at the highest level of all.</span></span> <span data-ttu-id="3c287-241">既に実行されているアニメーションであっても値の強制型変換が適用されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-241">Even an already running animation is subject to value coercion.</span></span> <span data-ttu-id="3c287-242">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] の特定の既存の依存関係プロパティには、組み込みの強制型変換があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-242">Certain existing dependency properties in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] have built-in coercion.</span></span> <span data-ttu-id="3c287-243">カスタム依存関係プロパティを記述してカスタム依存関係プロパティの強制型変換動作を定義する、<xref:System.Windows.CoerceValueCallback>プロパティを作成するときに、メタデータの一部としてコールバックを渡します。</span><span class="sxs-lookup"><span data-stu-id="3c287-243">For a custom dependency property, you define the coercion behavior for a custom dependency property by writing a <xref:System.Windows.CoerceValueCallback> and passing the callback as part of metadata when you create the property.</span></span> <span data-ttu-id="3c287-244">派生クラスでプロパティのメタデータをオーバーライドすることにより、既存のプロパティの強制型変換の動作をオーバーライドすることもできます。</span><span class="sxs-lookup"><span data-stu-id="3c287-244">You can also override coercion behavior of existing properties by overriding the metadata on that property in a derived class.</span></span> <span data-ttu-id="3c287-245">強制型変換と基本値の相互作用は、その時点で強制型変換に対する制約が存在するものとして適用されるように行われますが、基本値はそれでも保持されます。</span><span class="sxs-lookup"><span data-stu-id="3c287-245">Coercion interacts with the base value in such a way that the constraints on coercion are applied as those constraints exist at the time, but the base value is still retained.</span></span> <span data-ttu-id="3c287-246">したがって、強制型変換の制約が後で無効になった場合、強制型変換はその基本値に可能な最も近い値を返し、プロパティに対する強制型変換の影響はすべての制約が無効になるとすぐに終了する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-246">Therefore, if constraints in coercion are later lifted, the coercion will return the closest value possible to that base value, and potentially the coercion influence on a property will cease as soon as all constraints are lifted.</span></span> <span data-ttu-id="3c287-247">強制型変換の動作について詳しくは、「[依存関係プロパティのコールバックと検証](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="3c287-247">For more information about coercion behavior, see [Dependency Property Callbacks and Validation](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md).</span></span>  
  
<a name="triggers"></a>   
## <a name="trigger-behaviors"></a><span data-ttu-id="3c287-248">トリガー動作</span><span class="sxs-lookup"><span data-stu-id="3c287-248">Trigger Behaviors</span></span>  
 <span data-ttu-id="3c287-249">コントロールでは、テーマの既定のスタイルの一部としてトリガー動作が定義されていることがよくあります。</span><span class="sxs-lookup"><span data-stu-id="3c287-249">Controls often define trigger behaviors as part of their default style in themes.</span></span> <span data-ttu-id="3c287-250">コントロールにローカル プロパティを設定すると、ユーザー駆動のイベントに対してトリガーが視覚的または動作的に応答できなくなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-250">Setting local properties on controls might prevent the triggers from being able to respond to user-driven events either visually or behaviorally.</span></span> <span data-ttu-id="3c287-251">プロパティ トリガーの最も一般的な使用などのコントロールまたは状態のプロパティが<xref:System.Windows.Controls.Primitives.Selector.IsSelected%2A>です。</span><span class="sxs-lookup"><span data-stu-id="3c287-251">The most common use of a property trigger is for control or state properties such as <xref:System.Windows.Controls.Primitives.Selector.IsSelected%2A>.</span></span> <span data-ttu-id="3c287-252">たとえば、既定でときに、<xref:System.Windows.Controls.Button>は無効になります (のトリガーに<xref:System.Windows.UIElement.IsEnabled%2A>は`false`)、<xref:System.Windows.Controls.Control.Foreground%2A>テーマ スタイルの値は、「グレー」表示するコントロールが原因です。</span><span class="sxs-lookup"><span data-stu-id="3c287-252">For example, by default when a <xref:System.Windows.Controls.Button> is disabled (trigger for <xref:System.Windows.UIElement.IsEnabled%2A> is `false`) then the <xref:System.Windows.Controls.Control.Foreground%2A> value in the theme style is what causes the control to appear "grayed out".</span></span> <span data-ttu-id="3c287-253">ローカルを設定している場合は<xref:System.Windows.Controls.Control.Foreground%2A>値、このプロパティによってトリガーされるシナリオであっても、ローカル プロパティ セットによって、優先順位で正常の灰色アウト色を無視できますされます。</span><span class="sxs-lookup"><span data-stu-id="3c287-253">But if you have set a local <xref:System.Windows.Controls.Control.Foreground%2A> value, that normal gray-out color will be overruled in precedence by your local property set, even in this property-triggered scenario.</span></span> <span data-ttu-id="3c287-254">テーマ レベルのトリガー動作があるプロパティの値を設定するときは注意し、そのコントロールの目的のユーザー エクスペリエンスに過度に干渉していないことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3c287-254">Be cautious of setting values for properties that have theme-level trigger behaviors and make sure you are not unduly interfering with the intended user experience for that control.</span></span>  
  
<a name="clearvalue"></a>   
## <a name="clearvalue-and-value-precedence"></a><span data-ttu-id="3c287-255">ClearValue と値の優先順位</span><span class="sxs-lookup"><span data-stu-id="3c287-255">ClearValue and Value Precedence</span></span>  
 <span data-ttu-id="3c287-256"><xref:System.Windows.DependencyObject.ClearValue%2A>メソッドには任意のローカルに適用されている要素に設定されている依存関係プロパティ値をクリアする、便利なことを意味します。</span><span class="sxs-lookup"><span data-stu-id="3c287-256">The <xref:System.Windows.DependencyObject.ClearValue%2A> method provides an expedient means to clear any locally applied value from a dependency property that is set on an element.</span></span> <span data-ttu-id="3c287-257">ただし、呼び出し<xref:System.Windows.DependencyObject.ClearValue%2A>プロパティの登録中に、メタデータで確立された既定値は、新しい有効な値である保証はありません。</span><span class="sxs-lookup"><span data-stu-id="3c287-257">However, calling <xref:System.Windows.DependencyObject.ClearValue%2A> is not a guarantee that the default as established in metadata during property registration is the new effective value.</span></span> <span data-ttu-id="3c287-258">値の優先順位に関係する他のすべての要因はアクティブなままです。</span><span class="sxs-lookup"><span data-stu-id="3c287-258">All of the other participants in value precedence are still active.</span></span> <span data-ttu-id="3c287-259">ローカルで設定された値が優先順位のシーケンスから削除されるだけです。</span><span class="sxs-lookup"><span data-stu-id="3c287-259">Only the locally set value has been removed from the precedence sequence.</span></span> <span data-ttu-id="3c287-260">呼び出す場合など、<xref:System.Windows.DependencyObject.ClearValue%2A>どこでも、そのプロパティが、テーマのスタイルで設定し、テーマの値がメタデータに基づく既定ではなく、新しい値として適用されるプロパティです。</span><span class="sxs-lookup"><span data-stu-id="3c287-260">For example, if you call <xref:System.Windows.DependencyObject.ClearValue%2A> on a property where that property is also set by a theme style, then the theme value is applied as the new value rather than the metadata-based default.</span></span> <span data-ttu-id="3c287-261">依存関係プロパティのメタデータと、クエリと明確にして既定値が既定値をローカルで使用できることを取得するには、プロセス外のすべてのプロパティ値の参加者を行い、登録されているメタデータの既定値を設定する場合は、呼び出しを使用してプロパティを設定<xref:System.Windows.DependencyObject.SetValue%2A>です。</span><span class="sxs-lookup"><span data-stu-id="3c287-261">If you want to take all property value participants out of the process and set the value to the registered metadata default, you can obtain that default value definitively by querying the dependency property metadata, and then you can use the default value to locally set the property with a call to <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3c287-262">関連項目</span><span class="sxs-lookup"><span data-stu-id="3c287-262">See Also</span></span>  
 <xref:System.Windows.DependencyObject>  
 <xref:System.Windows.DependencyProperty>  
 [<span data-ttu-id="3c287-263">依存関係プロパティの概要</span><span class="sxs-lookup"><span data-stu-id="3c287-263">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="3c287-264">カスタム依存関係プロパティ</span><span class="sxs-lookup"><span data-stu-id="3c287-264">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)  
 [<span data-ttu-id="3c287-265">依存関係プロパティのコールバックと検証</span><span class="sxs-lookup"><span data-stu-id="3c287-265">Dependency Property Callbacks and Validation</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md)
