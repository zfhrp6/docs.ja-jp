---
title: ID モデルを使用したクレームと承認の管理
ms.date: 03/30/2017
helpviewer_keywords:
- authorization [WCF]
- WCF security
- claims [WCF], managing with the Identity Model
- claims [WCF]
- authorization [WCF], managing with the Identity Model
ms.assetid: 099defbb-5d35-434e-9336-1a49b9ec7663
ms.openlocfilehash: 84f4485a85f83e910cc75b04282e1ad04aee72c1
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/04/2018
ms.locfileid: "33497027"
---
# <a name="managing-claims-and-authorization-with-the-identity-model"></a><span data-ttu-id="fa0e3-102">ID モデルを使用したクレームと承認の管理</span><span class="sxs-lookup"><span data-stu-id="fa0e3-102">Managing Claims and Authorization with the Identity Model</span></span>
<span data-ttu-id="fa0e3-103">承認は、コンピューター リソースを変更または表示したり、コンピューター リソースにアクセスしたりする権限を持つエンティティを特定するプロセスです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-103">Authorization is the process of determining which entities have permission to change, view, or otherwise access a computer resource.</span></span> <span data-ttu-id="fa0e3-104">たとえば、ある業務で、管理者だけが従業員のファイルへのアクセスを許可される場合があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-104">For example, in a business, only managers may be allowed to access the files of their employees.</span></span> <span data-ttu-id="fa0e3-105">Windows Communication Foundation (WCF) には、承認処理を実行するための 2 つのメカニズムがサポートしています。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-105">Windows Communication Foundation (WCF) supports two mechanisms for performing authorization processing.</span></span> <span data-ttu-id="fa0e3-106">1 つ目の機構では、既存の共通言語ランタイム (CLR: Common Language Runtime) 構造を使用して承認を制御できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-106">The first mechanism enables you to control authorization using existing common language runtime (CLR) constructs.</span></span> <span data-ttu-id="fa0e3-107">2 つ目は、クレームに基づくモデルと呼ばれる、 *Id モデル*です。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-107">The second is a claims-based model known as the *Identity Model*.</span></span> <span data-ttu-id="fa0e3-108">WCF の着信メッセージからクレームを作成するのに、Id モデルを使用します。カスタム承認スキームでは新しいクレームの種類をサポートするためには、id モデル クラスを拡張できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-108">WCF uses the Identity Model to create claims from incoming messages; Identity Model classes can be extended to support new claim types for custom authorization schemes.</span></span> <span data-ttu-id="fa0e3-109">このトピックでは、ID モデル機能のプログラミングの主要概念について概説し、この機能で使用する最も重要なクラスの一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-109">This topic presents an overview of the major programming concepts of the Identity Model feature, as well as a listing of the most important classes the feature uses.</span></span>  
  
## <a name="identity-model-scenarios"></a><span data-ttu-id="fa0e3-110">ID モデルのシナリオ</span><span class="sxs-lookup"><span data-stu-id="fa0e3-110">Identity Model Scenarios</span></span>  
 <span data-ttu-id="fa0e3-111">ID モデルの使用例を以下のシナリオに示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-111">The following scenarios represent Identity Model use.</span></span>  
  
### <a name="scenario-1-supporting-identity-role-and-group-claims"></a><span data-ttu-id="fa0e3-112">シナリオ 1 : ID、ロール、およびグループの各クレームをサポートする場合</span><span class="sxs-lookup"><span data-stu-id="fa0e3-112">Scenario 1: Supporting Identity, Role, and Group Claims</span></span>  
 <span data-ttu-id="fa0e3-113">複数のユーザーが Web サービスにメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-113">Users send messages to a Web service.</span></span> <span data-ttu-id="fa0e3-114">この Web サービスのアクセス制御要件では、ID、ロール、またはグループを使用します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-114">The access control requirements of the Web service use identity, roles, or groups.</span></span> <span data-ttu-id="fa0e3-115">メッセージ送信者は、一連のロールまたはグループに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-115">The message sender is mapped to a set of roles or groups.</span></span> <span data-ttu-id="fa0e3-116">ロールまたはグループの情報は、アクセス チェックを実行する際に使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-116">Role or group information is used to perform access checks.</span></span>  
  
### <a name="scenario-2-supporting-rich-claims"></a><span data-ttu-id="fa0e3-117">シナリオ 2 : 多様なクレームをサポートする場合</span><span class="sxs-lookup"><span data-stu-id="fa0e3-117">Scenario 2: Supporting Rich Claims</span></span>  
 <span data-ttu-id="fa0e3-118">複数のユーザーが Web サービスにメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-118">Users send messages to a Web service.</span></span> <span data-ttu-id="fa0e3-119">この Web サービスのアクセス制御要件では、ID、ロール、またはグループよりも多様なモデルを必要とします。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-119">The access control requirements of the Web service require a richer model than identity, roles, or groups.</span></span> <span data-ttu-id="fa0e3-120">Web サービスは、クレームに基づく多様なモデルを使用して、指定のユーザーが保護された特定のリソースにアクセスできるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-120">The Web service determines whether a given user has access to a particular protected resource using the rich claims-based model.</span></span> <span data-ttu-id="fa0e3-121">たとえば、あるユーザーは、他のユーザーがアクセスできない給与情報などの特定の情報を読み取ることができます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-121">For example, one user may be able to read particular information, such as salary information, that other users do not have access to.</span></span>  
  
### <a name="scenario-3-mapping-disparate-claims"></a><span data-ttu-id="fa0e3-122">シナリオ 3 : さまざまなクレームを割り当てる場合</span><span class="sxs-lookup"><span data-stu-id="fa0e3-122">Scenario 3: Mapping Disparate Claims</span></span>  
 <span data-ttu-id="fa0e3-123">ユーザーが Web サービスにメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-123">A user sends a message to a Web service.</span></span> <span data-ttu-id="fa0e3-124">ユーザーは、X.509 証明書、ユーザー名トークン、または Kerberos トークンを使用して資格情報を指定できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-124">The user may specify their credentials in a number of different ways: X.509 certificate, user name token, or Kerberos token.</span></span> <span data-ttu-id="fa0e3-125">Web サービスは、ユーザーの資格情報の種類を問わず、アクセス制御チェックを同様に実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-125">The Web service is required to perform access control checks in the same way, regardless of the user credential type.</span></span> <span data-ttu-id="fa0e3-126">時間の経過に伴って、サポート対象となる資格情報の種類が追加された場合、それに応じてシステムを拡張する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-126">If additional credential types are supported over time, the system should evolve accordingly.</span></span>  
  
### <a name="scenario-4-determining-access-to-multiple-resources"></a><span data-ttu-id="fa0e3-127">シナリオ 4 : 複数のリソースへのアクセスを特定する場合</span><span class="sxs-lookup"><span data-stu-id="fa0e3-127">Scenario 4: Determining Access to Multiple Resources</span></span>  
 <span data-ttu-id="fa0e3-128">ある Web サービスでは、複数のリソースへのアクセスを試みます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-128">A Web service attempts to access multiple resources.</span></span> <span data-ttu-id="fa0e3-129">このサービスは、指定のユーザーに関連付けられたクレームと、保護されたリソースにアクセスするために必要なクレームを比較することによって、そのユーザーがアクセスできるリソースを特定します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-129">The service determines which protected resources a given user has access to by comparing the claims associated with the user with the claims required to access the resource.</span></span>  
  
## <a name="identity-model-terms"></a><span data-ttu-id="fa0e3-130">ID モデルの用語</span><span class="sxs-lookup"><span data-stu-id="fa0e3-130">Identity Model Terms</span></span>  
 <span data-ttu-id="fa0e3-131">ID モデルの概念の説明に使用される重要な用語の定義を以下に示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-131">The following list defines key terms used to describe Identity Model concepts.</span></span>  
  
 <span data-ttu-id="fa0e3-132">承認ポリシー</span><span class="sxs-lookup"><span data-stu-id="fa0e3-132">Authorization policy</span></span>  
 <span data-ttu-id="fa0e3-133">入力クレーム セットを出力クレーム セットに割り当てる一連のルール。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-133">A set of rules for mapping a set of input claims to a set of output claims.</span></span> <span data-ttu-id="fa0e3-134">承認ポリシーを評価すると、クレーム セットが評価コンテキストに追加され、次に承認コンテキストに追加されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-134">Evaluating authorization policy results in claim sets being added to an evaluation context and subsequently an authorization context.</span></span>  
  
 <span data-ttu-id="fa0e3-135">承認コンテキスト</span><span class="sxs-lookup"><span data-stu-id="fa0e3-135">Authorization context</span></span>  
 <span data-ttu-id="fa0e3-136">一連のクレーム セットと 0 個以上のプロパティ。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-136">A set of claim sets and zero or more properties.</span></span> <span data-ttu-id="fa0e3-137">1 つ以上の承認ポリシーの評価結果です。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-137">The result of evaluating one or more authorization policies.</span></span>  
  
 <span data-ttu-id="fa0e3-138">クレーム</span><span class="sxs-lookup"><span data-stu-id="fa0e3-138">Claim</span></span>  
 <span data-ttu-id="fa0e3-139">クレームの種類、権限、および値の組み合わせ。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-139">A combination of a claim type, right, and a value.</span></span>  
  
 <span data-ttu-id="fa0e3-140">クレーム セット</span><span class="sxs-lookup"><span data-stu-id="fa0e3-140">Claim set</span></span>  
 <span data-ttu-id="fa0e3-141">特定の発行者によって発行された一連のクレーム。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-141">A set of claims issued by a particular issuer.</span></span>  
  
 <span data-ttu-id="fa0e3-142">クレームの種類</span><span class="sxs-lookup"><span data-stu-id="fa0e3-142">Claim type</span></span>  
 <span data-ttu-id="fa0e3-143">クレームの種類。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-143">A kind of claim.</span></span> <span data-ttu-id="fa0e3-144">ID モデル API によって定義されたクレームは、<xref:System.IdentityModel.Claims.Claim.ClaimType%2A> クラスのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-144">Claims defined by the Identity Model API are properties of the <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> class.</span></span> <span data-ttu-id="fa0e3-145">システムが提供するクレームの種類には、<xref:System.IdentityModel.Claims.ClaimTypes.Dns%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Email%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Hash%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Sid%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Spn%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.System%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.Uri%2A>、<xref:System.IdentityModel.Claims.ClaimTypes.X500DistinguishedName%2A> などがあります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-145">Examples of system-provided claim types are <xref:System.IdentityModel.Claims.ClaimTypes.Dns%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Email%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Hash%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Sid%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Spn%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.System%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, <xref:System.IdentityModel.Claims.ClaimTypes.Uri%2A>, and <xref:System.IdentityModel.Claims.ClaimTypes.X500DistinguishedName%2A>.</span></span>  
  
 <span data-ttu-id="fa0e3-146">評価コンテキスト</span><span class="sxs-lookup"><span data-stu-id="fa0e3-146">Evaluation context</span></span>  
 <span data-ttu-id="fa0e3-147">承認ポリシーが評価されるコンテキスト。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-147">A context in which an authorization policy is evaluated.</span></span> <span data-ttu-id="fa0e3-148">プロパティとクレーム セットが含まれます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-148">Contains properties and claim sets.</span></span> <span data-ttu-id="fa0e3-149">評価が完了すると、評価コンテキストは承認コンテキストの基礎となります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-149">Becomes the basis of an authorization context once evaluation is complete.</span></span>  
  
 <span data-ttu-id="fa0e3-150">ID クレーム</span><span class="sxs-lookup"><span data-stu-id="fa0e3-150">Identity claim</span></span>  
 <span data-ttu-id="fa0e3-151">権限が ID であるクレーム。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-151">A claim whose right is identity.</span></span>  
  
 <span data-ttu-id="fa0e3-152">発行者</span><span class="sxs-lookup"><span data-stu-id="fa0e3-152">Issuer</span></span>  
 <span data-ttu-id="fa0e3-153">1 つ以上の ID クレームを含み、別のクレーム セットを発行したと見なされているクレーム セット。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-153">A claim set that contains at least one identity claim and is considered to have issued another claim set.</span></span>  
  
 <span data-ttu-id="fa0e3-154">プロパティ</span><span class="sxs-lookup"><span data-stu-id="fa0e3-154">Properties</span></span>  
 <span data-ttu-id="fa0e3-155">評価コンテキストまたは承認コンテキストに関連付けられた一連の情報。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-155">A set of information associated with an evaluation context or authorization context.</span></span>  
  
 <span data-ttu-id="fa0e3-156">保護されたリソース</span><span class="sxs-lookup"><span data-stu-id="fa0e3-156">Protected resource</span></span>  
 <span data-ttu-id="fa0e3-157">システム内に存在するものの中で、まず特定の要件が満たされた場合にのみ、使用、アクセス、または操作が可能になるもの。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-157">Something in the system that can only be used, accessed, or otherwise manipulated if certain requirements are first met.</span></span>  
  
 <span data-ttu-id="fa0e3-158">権限</span><span class="sxs-lookup"><span data-stu-id="fa0e3-158">Right</span></span>  
 <span data-ttu-id="fa0e3-159">リソースに対する使用能力。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-159">A capability over a resource.</span></span> <span data-ttu-id="fa0e3-160">ID モデル API によって定義された権限は、<xref:System.IdentityModel.Claims.Rights> クラスのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-160">Rights defined by the Identity Model API are properties of the <xref:System.IdentityModel.Claims.Rights> class.</span></span> <span data-ttu-id="fa0e3-161">システムが提供する権限には、<xref:System.IdentityModel.Claims.Rights.Identity%2A> や <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> などがあります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-161">Examples of system-provided rights are <xref:System.IdentityModel.Claims.Rights.Identity%2A> and <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>.</span></span>  
  
 <span data-ttu-id="fa0e3-162">[値]</span><span class="sxs-lookup"><span data-stu-id="fa0e3-162">Value</span></span>  
 <span data-ttu-id="fa0e3-163">権限がクレームされる対象。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-163">Something over which a right is claimed.</span></span>  
  
## <a name="claims"></a><span data-ttu-id="fa0e3-164">クレーム</span><span class="sxs-lookup"><span data-stu-id="fa0e3-164">Claims</span></span>  
 <span data-ttu-id="fa0e3-165">ID モデルはクレームに基づくシステムです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-165">The Identity Model is a claims-based system.</span></span> <span data-ttu-id="fa0e3-166">クレームは、システム内の何らかのエンティティ (多くの場合システムのユーザー) に関連する機能について記述します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-166">Claims describe the capabilities associated with some entity in the system, often a user of that system.</span></span> <span data-ttu-id="fa0e3-167">指定のエンティティに関連するクレームのセットをキーと考えることができます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-167">The set of claims associated with a given entity can be thought of as a key.</span></span> <span data-ttu-id="fa0e3-168">個別のクレームによりキーの形状が定義されます。このしくみは、ドアを開けるための物理的なキーと似ています。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-168">The particular claims define the shape of that key, similar to a physical key used to open a lock in a door.</span></span> <span data-ttu-id="fa0e3-169">クレームは、リソースへのアクセスを取得するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-169">Claims are used to gain access to resources.</span></span> <span data-ttu-id="fa0e3-170">保護された指定のリソースへのアクセスの可否は、そのリソースにアクセスするために必要なクレームと、アクセスを試みるエンティティに関連付けられたクレームを比較することにより特定されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-170">Access to a given protected resource is determined by comparing the claims needed to access that resource with the claims associated with the entity attempting access.</span></span>  
  
 <span data-ttu-id="fa0e3-171">クレームは、特定の値に関連付けられる権限の表現です。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-171">A claim is the expression of a right with respect to a particular value.</span></span> <span data-ttu-id="fa0e3-172">権限には、"読み取り"、"書き込み"、"実行" などがあります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-172">A right could be something like "Read", "Write", or "Execute."</span></span> <span data-ttu-id="fa0e3-173">値には、データベース、ファイル、メールボックス、またはプロパティが使用できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-173">A value could be a database, a file, a mailbox, or a property.</span></span> <span data-ttu-id="fa0e3-174">クレームはまた、特定のクレームの種類に属します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-174">Claims also have a claim type.</span></span> <span data-ttu-id="fa0e3-175">クレームの種類と権限の組み合わせにより、値に関する機能を指定するための機構が得られます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-175">The combination of claim type and right provides the mechanism for specifying capabilities with respect to the value.</span></span> <span data-ttu-id="fa0e3-176">たとえば、値 "Biography.doc" に対して権限 "読み取り" を持つ種類 "File" のクレームは、そのようなクレームに関連するエンティティが Biography.doc ファイルに対して読み取りアクセスを持つことを示します。また、値 "Martin" に対して権限 "PossessProperty" を持つ種類 "Name" のクレームは、そのようなクレームに関連するエンティティが値 "Martin" を持つ "Name" プロパティを所有することを示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-176">For example, a claim of type "File", with right "Read" over the value "Biography.doc", indicates that the entity with which such a claim is associated has read access to the file Biography.doc. A claim of type "Name", with right "PossessProperty" over the value "Martin", indicates that the entity with which such a claim is associated possesses a Name property with the value "Martin".</span></span>  
  
 <span data-ttu-id="fa0e3-177">さまざまなクレームの種類と権限が ID モデルの一部として定義されています。ただし、システムは拡張できるため、ID モデル インフラストラクチャ上に構築するさまざまなシステムで、必要に応じて他のクレームの種類や権限を定義できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-177">Although various claim types and rights are defined as part of the Identity Model, the system is extensible, allowing the various systems, building on top of the Identity Model infrastructure, to define additional claim types and rights as required.</span></span>  
  
### <a name="identity-claims"></a><span data-ttu-id="fa0e3-178">ID クレーム</span><span class="sxs-lookup"><span data-stu-id="fa0e3-178">Identity Claims</span></span>  
 <span data-ttu-id="fa0e3-179">特殊な権限の 1 つとして、ID の権限があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-179">One particular right is that of identity.</span></span> <span data-ttu-id="fa0e3-180">この権限を持つクレームは、エンティティの ID を示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-180">Claims that possess this right make a statement about the identity of the entity.</span></span> <span data-ttu-id="fa0e3-181">たとえば、「ユーザー プリンシパル名」の種類のクレーム (UPN) で、値は"someone@example.com"を示し、Id の権限は、特定のドメイン内の特定の id。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-181">For example, a claim of type "user principal name" (UPN) with a value of "someone@example.com" and a right of Identity indicates a particular identity in a particular domain.</span></span>  
  
#### <a name="system-identity-claim"></a><span data-ttu-id="fa0e3-182">System ID クレーム</span><span class="sxs-lookup"><span data-stu-id="fa0e3-182">System Identity Claim</span></span>  
 <span data-ttu-id="fa0e3-183">ID モデルでは、System という ID クレームが定義されています。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-183">The Identity Model defines one identity claim: System.</span></span> <span data-ttu-id="fa0e3-184">System ID クレームは、エンティティが現在のアプリケーションまたはシステムであることを示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-184">The System identity claim indicates that an entity is the current application or system.</span></span>  
  
### <a name="sets-of-claims"></a><span data-ttu-id="fa0e3-185">クレーム セット</span><span class="sxs-lookup"><span data-stu-id="fa0e3-185">Sets of Claims</span></span>  
 <span data-ttu-id="fa0e3-186">クレームは、システム内の何らかのエンティティによって常に発行されるため、ID を表すクレームのモデルは重要です。エンティティが最終的には何らかの "自己" の概念である場合でも、クレームは発行されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-186">The model of claims that represent identity is important because claims are always issued by some entity in the system, even if that entity is ultimately some concept of "self".</span></span> <span data-ttu-id="fa0e3-187">クレームは 1 つのセットとしてグループ化され、各セットは発行者を持ちます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-187">Claims are grouped together as a set and each set has an issuer.</span></span> <span data-ttu-id="fa0e3-188">発行者は、1 つのクレーム セットにすぎません。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-188">An issuer is just a set of claims.</span></span> <span data-ttu-id="fa0e3-189">このような再帰的な関係は最終的に終了する必要があるため、どのクレーム セットもそれ自体の発行者になることができます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-189">Such a recursive relationship must eventually end and any claim set can be its own issuer.</span></span>  
  
 <span data-ttu-id="fa0e3-190">次の図は、3 つのクレーム セットの一例を示しています。この例では、1 つ目のクレーム セットの発行者は 2 つ目のクレーム セットであり、さらにこの 2 つ目のクレーム セットの発行者は System クレーム セットです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-190">The following figure shows an example of three sets of claims where one set of claims has, as its issuer, another set of claims, which in turn has the System claim set as its issuer.</span></span> <span data-ttu-id="fa0e3-191">このように、クレーム セットは任意の深さの階層を形成します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-191">Therefore, sets of claims form a hierarchy that may be arbitrarily deep.</span></span>  
  
 <span data-ttu-id="fa0e3-192">![クレームと承認を管理する](../../../../docs/framework/wcf/feature-details/media/claimshierarchy.gif "claimshierarchy")</span><span class="sxs-lookup"><span data-stu-id="fa0e3-192">![Managing claims and authorization](../../../../docs/framework/wcf/feature-details/media/claimshierarchy.gif "claimshierarchy")</span></span>  
  
 <span data-ttu-id="fa0e3-193">次の図に示すように、複数のクレーム セットが同じクレーム セットから発行されている場合もあります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-193">Multiple sets of claims may have the same issuing claim set, as illustrated in the following figure.</span></span>  
  
 <span data-ttu-id="fa0e3-194">![クレームと承認を管理する](../../../../docs/framework/wcf/feature-details/media/multiplesetsofclaims.gif "multiplesetsofclaims")</span><span class="sxs-lookup"><span data-stu-id="fa0e3-194">![Managing claims and authorization](../../../../docs/framework/wcf/feature-details/media/multiplesetsofclaims.gif "multiplesetsofclaims")</span></span>  
  
 <span data-ttu-id="fa0e3-195">クレーム セットがそれ自体の発行者である場合を除き、ID モデルではクレーム セットによるループの形成を一切サポートしていません。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-195">With the exception of a claim set that is its own issuer, the Identity Model does not provide any support for claim sets to form a loop.</span></span> <span data-ttu-id="fa0e3-196">したがって、クレーム セット A がクレーム セット B によって発行された場合に、クレーム セット B 自体がクレーム セット A によって発行されたという状況はありえません。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-196">Thus a situation where claim set A is issued by claim set B, which is itself issued by claim set A, can never arise.</span></span> <span data-ttu-id="fa0e3-197">また、ID モデルでは、クレーム セットが複数の発行者を持つことはできません。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-197">Also, the Identity Model does not provide any support for claim sets to have multiple issuers.</span></span> <span data-ttu-id="fa0e3-198">ある特定のクレーム セットを複数の発行者が発行する必要がある場合は、同じクレームを含み、発行者がそれぞれ異なる複数のクレーム セットを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-198">If two or more issuers must issue a given set of claims, then you must use multiple claim sets, each containing the same claims, but having different issuers.</span></span>  
  
### <a name="the-origin-of-claims"></a><span data-ttu-id="fa0e3-199">クレームの発生元</span><span class="sxs-lookup"><span data-stu-id="fa0e3-199">The Origin of Claims</span></span>  
 <span data-ttu-id="fa0e3-200">クレームは、さまざまな発生元から発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-200">Claims can come from a variety of sources.</span></span> <span data-ttu-id="fa0e3-201">たとえば、Web サービスに送信されるメッセージの一部としてユーザーから提示される資格情報は、クレームの一般的な発生元の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-201">One common source of claims is credentials presented by a user, for example as part of a message sent to a Web service.</span></span> <span data-ttu-id="fa0e3-202">このようなクレームはシステムによって検証され、そのユーザーに関連付けられたクレーム セットの一部になります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-202">The system validates such claims, and they become part of a set of claims associated with the user.</span></span> <span data-ttu-id="fa0e3-203">システムの他のコンポーネント (オペレーティング システム、ネットワーク スタック、ランタイム環境、アプリケーションなど) もクレームの発生元になることがあります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-203">Other system components may also be sources of claims, including, but not limited to, the operating system, the network stack, the run-time environment, or the application.</span></span> <span data-ttu-id="fa0e3-204">また、リモート サービスが発生元になる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-204">In addition, remote services may also be a source of claims.</span></span>  
  
### <a name="authorization-policies"></a><span data-ttu-id="fa0e3-205">承認ポリシー</span><span class="sxs-lookup"><span data-stu-id="fa0e3-205">Authorization Policies</span></span>  
 <span data-ttu-id="fa0e3-206">ID モデルでは、承認ポリシーの評価プロセスの一環としてクレームが生成されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-206">In the Identity Model, claims are generated as part of the process of evaluating the authorization policy.</span></span> <span data-ttu-id="fa0e3-207">承認ポリシーは、既存のクレーム セット (空の場合もあります) を調べます。そして、既に存在するクレームやクレームが破棄された時点の追加情報に基づいて、別のクレームを追加する場合があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-207">An authorization policy examines the (possibly empty) set of existing claims and may choose to add additional claims based on the claims already present and additional information at its disposal.</span></span> <span data-ttu-id="fa0e3-208">これは、クレーム間のマッピングの基盤となります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-208">This provides the basis of mapping between claims.</span></span> <span data-ttu-id="fa0e3-209">システム内でのクレームの有無は、別のクレームを追加するかどうかという承認ポリシーの動作に影響します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-209">The presence or absence of claims in the system influences the behavior of an authorization policy with respect to whether it adds additional claims.</span></span>  
  
 <span data-ttu-id="fa0e3-210">たとえば、システムを使用するさまざまなエンティティの誕生日が含まれたデータベースにアクセスできる承認ポリシーがあるとします。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-210">For example, the authorization policy has access to a database that includes the birthdates of the various entities using the system.</span></span> <span data-ttu-id="fa0e3-211">承認ポリシーは、この情報を使用して "Over18" というクレームをコンテキストに追加します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-211">The authorization policy uses that information to add an "Over18" claim to the context.</span></span> <span data-ttu-id="fa0e3-212">この Over18 クレームは、エンティティが 18 歳以上であるということ以外に、エンティティに関する情報を公開しません。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-212">Note that this Over18 claim does not disclose any information about the entity other than the fact that it is over 18 years of age.</span></span> <span data-ttu-id="fa0e3-213">"Over18" クレームの解釈は、このクレームのセマンティクスの認識によって異なります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-213">Note that interpretation of the 'Over18' claim depends on understanding the semantics of that claim.</span></span> <span data-ttu-id="fa0e3-214">クレームを追加した承認ポリシーは、何らかのレベルでこれらのセマンティクスを認識しています。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-214">The authorization policy that added the claim understands those semantics at some level.</span></span> <span data-ttu-id="fa0e3-215">ポリシー評価の結果として生成されたクレームを調べるコードにも、これらのセマンティクスが通知されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-215">Code that subsequently examines the claims that result from policy evaluation also be informed of those semantics.</span></span>  
  
 <span data-ttu-id="fa0e3-216">特定の承認ポリシーを複数回評価することが必要になる場合があります。これは、他の承認ポリシーがクレームを追加したときに、該当の承認ポリシーがさらにクレームを追加する可能性があるためです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-216">A given authorization policy may require that it be evaluated multiple times because, as other authorization policies add claims, that authorization policy might add yet more claims.</span></span> <span data-ttu-id="fa0e3-217">ID モデルは、適用されているすべての承認ポリシーがクレームをコンテキストに追加しなくなるまで、評価を続行するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-217">Identity Model is designed to continue evaluation until no more claims are added to the context by any of the authorization policies in force.</span></span> <span data-ttu-id="fa0e3-218">このように、承認ポリシーの評価を続行することにより、承認ポリシーに関して一定の評価順序を適用する必要性がなくなります。つまり、承認ポリシーを任意の順序で評価できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-218">This continued evaluation of authorization policies prevents the requirement to enforce any specific evaluation order with respect to authorization policies; they can be evaluated in any order.</span></span> <span data-ttu-id="fa0e3-219">たとえば、ポリシー A がクレーム B を追加した場合にのみ、ポリシー X がクレーム Z を追加するとします。この場合、X が先に評価されると、その時点ではクレーム Z は追加されません。その後、A が評価され、クレーム B が追加されます。次に、X の 2 回目の評価が行われ、この時点でクレーム Z が追加されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-219">For example, if policy X only adds Claim Z if policy A has added Claim B, then if X is evaluated first, it initially does not add the Claim Z. Subsequently, A is evaluated and adds Claim B. X is then evaluated a second time, and this time it adds Claim Z.</span></span>  
  
 <span data-ttu-id="fa0e3-220">システムによっては多数の承認ポリシーが適用されている場合があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-220">A given system may have many authorization policies in force.</span></span>  
  
### <a name="a-key-making-machine"></a><span data-ttu-id="fa0e3-221">キーを作成するマシン</span><span class="sxs-lookup"><span data-stu-id="fa0e3-221">A Key-Making Machine</span></span>  
 <span data-ttu-id="fa0e3-222">関連する承認ポリシーのグループを評価することは、キーを作成する機械を使用することに似ています。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-222">Evaluating a group of associated authorization policies is like using a machine that makes keys.</span></span> <span data-ttu-id="fa0e3-223">承認ポリシーがそれぞれ評価され、クレーム セットが生成されて、キーの形状が確立されていきます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-223">The authorization policies are each evaluated and sets of claims are generated, building up the shape of the key.</span></span> <span data-ttu-id="fa0e3-224">キーの形状が完成すると、このキーを使用していくつかのロックを開いてみることができます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-224">Once the shape of the key is completed, it can be used to try to open some locks.</span></span> <span data-ttu-id="fa0e3-225">キーの形状は、承認マネージャーによって作成される "承認コンテキスト" に格納されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-225">The shape of the key is stored in an "authorization context," which is created by an authorization manager.</span></span>  
  
### <a name="authorization-context"></a><span data-ttu-id="fa0e3-226">承認コンテキスト</span><span class="sxs-lookup"><span data-stu-id="fa0e3-226">Authorization Context</span></span>  
 <span data-ttu-id="fa0e3-227">既に説明したように、承認マネージャーはさまざまな承認ポリシーを評価します。この評価の結果が承認コンテキスト (一連のクレーム セットと関連する複数のプロパティ) です。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-227">An authorization manager evaluates the various authorization policies as described, and the result is an authorization context (a set of claim sets and some associated properties).</span></span> <span data-ttu-id="fa0e3-228">承認コンテキストを調べて、そのコンテキスト内に存在するクレームや、それらのさまざまなクレーム間の関係 (発行側クレーム セットなど) を確認し、最終的にリソースにアクセスするために満たす必要のある要件と比較できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-228">The authorization context can be examined to determine what claims are present in that context, the relationships between those various claims (for example, the issuing claim set), and ultimately compare them against some requirements they must meet to access a resource.</span></span>  
  
### <a name="locks"></a><span data-ttu-id="fa0e3-229">ロック</span><span class="sxs-lookup"><span data-stu-id="fa0e3-229">Locks</span></span>  
 <span data-ttu-id="fa0e3-230">承認コンテキスト (クレーム セット) がキーであるとすれば、保護された特定のリソースへのアクセスを許可するために満たす必要のある要件は、このキーが適合する必要のあるロックに相当します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-230">If an authorization context (a set of claims) is a key, then the requirements that must be satisfied to grant access to a particular protected resource constitute the lock that the key must fit.</span></span> <span data-ttu-id="fa0e3-231">ID モデルでは、このような要件を表現する方法は形式化されていませんが、クレームに基づくというシステムの特性により、これらの要件には、承認コンテキスト内のクレームと一部の必須のクレーム セットの比較が必ず含まれることになります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-231">Identity Model does not formalize how such requirements are expressed but they do, given the claim-based nature of the system, involve comparing the claims in the authorization context against some set of required claims.</span></span>  
  
### <a name="a-recap"></a><span data-ttu-id="fa0e3-232">まとめ</span><span class="sxs-lookup"><span data-stu-id="fa0e3-232">A Recap</span></span>  
 <span data-ttu-id="fa0e3-233">ID モデルは、クレームの概念に基づいています。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-233">Identity Model is based around the concept of claims.</span></span> <span data-ttu-id="fa0e3-234">クレームはセットにグループ化され、承認コンテキストに集約されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-234">Claims are grouped into sets and aggregated in an authorization context.</span></span> <span data-ttu-id="fa0e3-235">承認コンテキストは、承認マネージャーに関連付けられた 1 つ以上の承認ポリシーの評価結果であり、クレーム セットを含んでいます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-235">An authorization context contains a set of claims and is the result of evaluating one or more authorization policies associated with an authorization manager.</span></span> <span data-ttu-id="fa0e3-236">これらのクレーム セットを調べて、アクセス要件が満たされているかどうか確認できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-236">These claim sets can be examined to determine if access requirements have been met.</span></span> <span data-ttu-id="fa0e3-237">ID モデルのさまざまな概念の関係を次の図に示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-237">The following figure shows the relationships between these various Identity Model concepts.</span></span>  
  
 <span data-ttu-id="fa0e3-238">![クレームと承認を管理する](../../../../docs/framework/wcf/feature-details/media/xsi-recap.gif "xsi_recap")</span><span class="sxs-lookup"><span data-stu-id="fa0e3-238">![Managing claims and authorization](../../../../docs/framework/wcf/feature-details/media/xsi-recap.gif "xsi_recap")</span></span>  
  
## <a name="wcf-and-identity-model"></a><span data-ttu-id="fa0e3-239">WCF と ID モデル</span><span class="sxs-lookup"><span data-stu-id="fa0e3-239">WCF and Identity Model</span></span>  
 <span data-ttu-id="fa0e3-240">WCF は、承認を実行するため、基盤として Id モデル インフラストラクチャを使用します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-240">WCF uses the Identity Model infrastructure as the basis for performing authorization.</span></span> <span data-ttu-id="fa0e3-241">WCF では、<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior>クラスを指定できます。*承認*サービスの一部としてポリシー。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-241">In WCF, the <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> class allows you to specify *authorization* policies as part of a service.</span></span> <span data-ttu-id="fa0e3-242">このような承認ポリシーと呼ばれる*外部承認ポリシー*、リモート サービスと対話してローカル ポリシーに基づく請求処理を行うことです。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-242">Such authorization policies are known as *external authorization policies*, and they can perform claim processing based on local policy or by interaction with a remote service.</span></span> <span data-ttu-id="fa0e3-243">承認マネージャーは、によって表される、<xref:System.ServiceModel.ServiceAuthorizationManager>クラスは、各種の資格情報の種類 (トークン) を認識する承認ポリシーと共に外部承認ポリシーを評価し、設定と呼ばれるもの、 *承認コンテキスト*受信メッセージに適切な要求を使用します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-243">The authorization manager, represented by the <xref:System.ServiceModel.ServiceAuthorizationManager> class evaluates external authorization policies together with authorization policies that recognize the various credential types (tokens) and populates what is called an *authorization context* with the claims appropriate to an incoming message.</span></span> <span data-ttu-id="fa0e3-244">承認コンテキストは、<xref:System.IdentityModel.Policy.AuthorizationContext> クラスによって表されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-244">The authorization context is represented by the <xref:System.IdentityModel.Policy.AuthorizationContext> class.</span></span>  
  
## <a name="identity-model-programming"></a><span data-ttu-id="fa0e3-245">ID モデルのプログラミング</span><span class="sxs-lookup"><span data-stu-id="fa0e3-245">Identity Model Programming</span></span>  
 <span data-ttu-id="fa0e3-246">ID モデル拡張のプログラミングに使用するオブジェクト モデルを次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-246">The following table describes the object model used to program Identity Model extensions.</span></span> <span data-ttu-id="fa0e3-247">これらのクラスはすべて、<xref:System.IdentityModel.Policy> 名前空間または <xref:System.IdentityModel.Claims> 名前空間にあります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-247">These classes all exist in either the <xref:System.IdentityModel.Policy> or the <xref:System.IdentityModel.Claims> namespaces.</span></span>  
  
|<span data-ttu-id="fa0e3-248">クラス</span><span class="sxs-lookup"><span data-stu-id="fa0e3-248">Class</span></span>|<span data-ttu-id="fa0e3-249">説明</span><span class="sxs-lookup"><span data-stu-id="fa0e3-249">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="fa0e3-250">Authorization Component</span><span class="sxs-lookup"><span data-stu-id="fa0e3-250">Authorization Component</span></span>|<span data-ttu-id="fa0e3-251"><xref:System.IdentityModel.Policy.IAuthorizationComponent> インターフェイスを実装する ID モデル クラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-251">An Identity Model class that implements the <xref:System.IdentityModel.Policy.IAuthorizationComponent> interface.</span></span>|  
|<xref:System.IdentityModel.Policy.IAuthorizationComponent>|<span data-ttu-id="fa0e3-252">単一の読み取り専用文字列プロパティ (Id) を提供するインターフェイス。このプロパティの値は、システム内でこのインターフェイスを実装するインスタンスごとに一意です。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-252">An interface that provides a single read-only string property: Id. The value of this property is unique for each instance in the system that implements this interface.</span></span>|  
|<xref:System.IdentityModel.Policy.AuthorizationContext>|<span data-ttu-id="fa0e3-253">*承認コンポーネント*のセットを含む`ClaimSet`0 個以上のプロパティを持つインスタンス 1 つまたは複数の承認ポリシーの評価結果です。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-253">An *authorization component* that contains a set of `ClaimSet` instances with zero or more properties; the result of evaluating one or more Authorization Policies.</span></span>|  
|<xref:System.IdentityModel.Claims.Claim>|<span data-ttu-id="fa0e3-254">クレームの種類、権限、および値の組み合わせ。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-254">A combination of a claim type, right, and value.</span></span> <span data-ttu-id="fa0e3-255">権限と値の部分は、クレームの種類によって制約されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-255">The right and value parts are constrained by the claim type.</span></span>|  
|<xref:System.IdentityModel.Claims.ClaimSet>|<span data-ttu-id="fa0e3-256">抽象基本クラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-256">An abstract base class.</span></span> <span data-ttu-id="fa0e3-257">`Claim` インスタンスのコレクション。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-257">A collection of `Claim` instances.</span></span>|  
|<xref:System.IdentityModel.Claims.DefaultClaimSet>|<span data-ttu-id="fa0e3-258">シール クラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-258">A sealed class.</span></span> <span data-ttu-id="fa0e3-259">`ClaimSet` クラスの実装。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-259">An implementation of the `ClaimSet` class.</span></span>|  
|<xref:System.IdentityModel.Policy.EvaluationContext>|<span data-ttu-id="fa0e3-260">抽象基本クラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-260">An abstract base class.</span></span> <span data-ttu-id="fa0e3-261">ポリシーの評価時に承認ポリシーに渡されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-261">Passed to an authorization policy during policy evaluation.</span></span>|  
|<xref:System.IdentityModel.Policy.IAuthorizationPolicy>|<span data-ttu-id="fa0e3-262">派生したインターフェイス`IAuthorizationComponent`承認ポリシーのクラスによって実装されるとします。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-262">An interface derived from `IAuthorizationComponent` and implemented by authorization policy classes.</span></span>|  
|<xref:System.IdentityModel.Claims.Rights>|<span data-ttu-id="fa0e3-263">定義済みの権限値が格納された静的クラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-263">A static class that contains predefined right values.</span></span>|  
  
 <span data-ttu-id="fa0e3-264">以下のクラスも ID モデルのプログラミングに使用しますが、<xref:System.IdentityModel.Policy> 名前空間または <xref:System.IdentityModel.Claims> 名前空間には含まれません。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-264">The following classes are also used for Identity Model programming, but are not found in the <xref:System.IdentityModel.Policy> or <xref:System.IdentityModel.Claims> namespaces.</span></span>  
  
|<span data-ttu-id="fa0e3-265">クラス</span><span class="sxs-lookup"><span data-stu-id="fa0e3-265">Class</span></span>|<span data-ttu-id="fa0e3-266">説明</span><span class="sxs-lookup"><span data-stu-id="fa0e3-266">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.ServiceModel.ServiceAuthorizationManager>|<span data-ttu-id="fa0e3-267">サービスでの操作ごとにクレームに基づく承認チェックを実行するメソッド (<xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A>) を提供するクラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-267">A class that provides a method— <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A>—to perform claim-based authorization checks for each operation in a service.</span></span> <span data-ttu-id="fa0e3-268">このクラスから派生し、メソッドをオーバーライドする必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-268">You must derive from the class and override the method.</span></span>|  
|<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior>|<span data-ttu-id="fa0e3-269">承認に関係するサービスの動作に関連するさまざまなプロパティを提供するシール クラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-269">A sealed class that provides various properties related to the behavior of a service as it pertains to authorization.</span></span>|  
|<xref:System.ServiceModel.ServiceSecurityContext>|<span data-ttu-id="fa0e3-270">現在実行中 (または実行直前) の操作のセキュリティ コンテキスト (承認コンテキストなど) を提供するクラス。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-270">A class that provides security context, including authorization context, for the currently running (or about to be run) operation.</span></span> <span data-ttu-id="fa0e3-271">このクラスのインスタンスは、<xref:System.ServiceModel.OperationContext> に含まれます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-271">An instance of this class is part of the <xref:System.ServiceModel.OperationContext>.</span></span>|  
  
### <a name="significant-members"></a><span data-ttu-id="fa0e3-272">重要なメンバー</span><span class="sxs-lookup"><span data-stu-id="fa0e3-272">Significant Members</span></span>  
 <span data-ttu-id="fa0e3-273">次のメンバーは、新しいクレームの種類を作成する際に一般的に使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-273">The following members are commonly used to create new claim types.</span></span>  
  
|<span data-ttu-id="fa0e3-274">メンバー</span><span class="sxs-lookup"><span data-stu-id="fa0e3-274">Member</span></span>|<span data-ttu-id="fa0e3-275">説明</span><span class="sxs-lookup"><span data-stu-id="fa0e3-275">Description</span></span>|  
|------------|-----------------|  
|<xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A>|<span data-ttu-id="fa0e3-276">派生クラスは、このメソッドを実装して、サービスで操作を実行する前にクレームに基づくアクセス チェックを実行します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-276">Derived classes implement this method to perform claim-based access checks prior to running operations in a service.</span></span> <span data-ttu-id="fa0e3-277">アクセス チェックの決定を行うときに、指定された <xref:System.ServiceModel.OperationContext>、または他の場所にあるすべての情報を確認できます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-277">Any and all information in the supplied <xref:System.ServiceModel.OperationContext>, or elsewhere, can be examined when making the access check decision.</span></span> <span data-ttu-id="fa0e3-278"><xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> が `true` を返した場合は、アクセスが許可され、操作を実行できるようになります。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-278">If <xref:System.ServiceModel.ServiceAuthorizationManager.CheckAccessCore%2A> returns `true`, then access is granted and the operation is allowed to run.</span></span> <span data-ttu-id="fa0e3-279">`CheckAccessCore` が `false` を返した場合は、アクセスが拒否され、操作は実行されません。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-279">If `CheckAccessCore` returns `false`, then access is denied and the operation does not run.</span></span> <span data-ttu-id="fa0e3-280">例については、次を参照してください。[する方法: サービスのカスタム承認マネージャーを作成する](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)です。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-280">For an example, see [How to: Create a Custom Authorization Manager for a Service](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md).</span></span>|  
|<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.ServiceAuthorizationManager%2A>|<span data-ttu-id="fa0e3-281">サービスの <xref:System.ServiceModel.ServiceAuthorizationManager> を返します。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-281">Returns the <xref:System.ServiceModel.ServiceAuthorizationManager> for the service.</span></span> <span data-ttu-id="fa0e3-282">承認決定は、<xref:System.ServiceModel.ServiceAuthorizationManager> が行います。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-282">The <xref:System.ServiceModel.ServiceAuthorizationManager> is responsible for making authorization decisions.</span></span>|  
|<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.ExternalAuthorizationPolicies%2A>|<span data-ttu-id="fa0e3-283">サービスに指定されたカスタム承認ポリシーのコレクション。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-283">The collection of custom authorization policies specified for the service.</span></span> <span data-ttu-id="fa0e3-284">受信メッセージの資格情報に関連するポリシーに加え、これらのポリシーも評価されます。</span><span class="sxs-lookup"><span data-stu-id="fa0e3-284">These policies are evaluated in addition to those policies associated with credentials in incoming messages.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="fa0e3-285">関連項目</span><span class="sxs-lookup"><span data-stu-id="fa0e3-285">See Also</span></span>  
 <xref:System.IdentityModel.Policy.AuthorizationContext>  
 <xref:System.IdentityModel.Claims.Claim>  
 <xref:System.IdentityModel.Policy.EvaluationContext>  
 <xref:System.IdentityModel.Policy.IAuthorizationComponent>  
 <xref:System.IdentityModel.Policy.IAuthorizationPolicy>  
 <xref:System.IdentityModel.Claims.Rights>  
 <xref:System.IdentityModel.Claims>  
 <xref:System.IdentityModel.Policy>  
 <xref:System.IdentityModel.Tokens>  
 <xref:System.IdentityModel.Selectors>  
 [<span data-ttu-id="fa0e3-286">クレームとトークン</span><span class="sxs-lookup"><span data-stu-id="fa0e3-286">Claims and Tokens</span></span>](../../../../docs/framework/wcf/feature-details/claims-and-tokens.md)  
 [<span data-ttu-id="fa0e3-287">リソースへのアクセスのクレームと拒否</span><span class="sxs-lookup"><span data-stu-id="fa0e3-287">Claims and Denying Access to Resources</span></span>](../../../../docs/framework/wcf/feature-details/claims-and-denying-access-to-resources.md)  
 [<span data-ttu-id="fa0e3-288">クレームの作成とリソース値</span><span class="sxs-lookup"><span data-stu-id="fa0e3-288">Claim Creation and Resource Values</span></span>](../../../../docs/framework/wcf/feature-details/claim-creation-and-resource-values.md)  
 [<span data-ttu-id="fa0e3-289">方法 : カスタム クレームを作成する</span><span class="sxs-lookup"><span data-stu-id="fa0e3-289">How to: Create a Custom Claim</span></span>](../../../../docs/framework/wcf/extending/how-to-create-a-custom-claim.md)  
 [<span data-ttu-id="fa0e3-290">方法 : クレームを比較する</span><span class="sxs-lookup"><span data-stu-id="fa0e3-290">How to: Compare Claims</span></span>](../../../../docs/framework/wcf/extending/how-to-compare-claims.md)  
 [<span data-ttu-id="fa0e3-291">方法 : カスタム承認ポリシーを作成する</span><span class="sxs-lookup"><span data-stu-id="fa0e3-291">How to: Create a Custom Authorization Policy</span></span>](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-policy.md)  
 [<span data-ttu-id="fa0e3-292">方法 : サービスで使用するカスタム承認マネージャーを作成する</span><span class="sxs-lookup"><span data-stu-id="fa0e3-292">How to: Create a Custom Authorization Manager for a Service</span></span>](../../../../docs/framework/wcf/extending/how-to-create-a-custom-authorization-manager-for-a-service.md)  
 [<span data-ttu-id="fa0e3-293">セキュリティの概要</span><span class="sxs-lookup"><span data-stu-id="fa0e3-293">Security Overview</span></span>](../../../../docs/framework/wcf/feature-details/security-overview.md)  
 [<span data-ttu-id="fa0e3-294">承認</span><span class="sxs-lookup"><span data-stu-id="fa0e3-294">Authorization</span></span>](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)
