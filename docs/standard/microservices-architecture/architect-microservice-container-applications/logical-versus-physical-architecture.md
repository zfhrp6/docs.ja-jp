---
title: "論理アーキテクチャと物理アーキテクチャ"
description: "コンテナー化された .NET アプリケーションの .NET マイクロサービス アーキテクチャ | 論理アーキテクチャと物理アーキテクチャ"
keywords: "Docker, マイクロサービス, ASP.NET, コンテナー"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: b08a5b8fb8f9df8a9a0a821fa85f1f6a94fce2d3
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/23/2017
---
# <a name="logical-architecture-versus-physical-architecture"></a>論理アーキテクチャと物理アーキテクチャ

ここで一度立ち止まって、論理アーキテクチャと物理アーキテクチャの違いと、マイクロサービスベースのアプリケーションの設計に適用する方法について考察することをお勧めします。

まず、マイクロサービスを構築するために、特定のテクノロジを使用する必要はありません。 たとえば、マイクロサービスベースのアーキテクチャを作成するために Docker コンテナーは必須ではありません。 このようなマイクロサービスは、プレーン プロセスとして実行することもできます。 マイクロサービスは論理アーキテクチャです。

さらに、マイクロサービスが物理的に単一のサービス、プロセス、またはコンテナー (簡単に言うと、[eShopOnContainers](http://aka.ms/MicroservicesArchitecture) の最初のバージョンで採用されるアプローチ) として実装できる場合でも、ビジネス マイクロサービスと物理サービスまたはコンテナーとの間のこのパリティは、数十から数百のサービスで構成される大規模で複雑なアプリケーションを構築する場合は必ずしも必須ではありません。

ここに、アプリケーションの論理アーキテクチャと物理アーキテクチャの違いがあります。 システムの論理アーキテクチャと論理的境界は、物理または展開アーキテクチャと 1 対 1 でマップされるとは限りません。 マップされない可能性はありますが、多くの場合はマップされます。

特定のビジネス マイクロサービスまたは境界コンテキストを指定している場合でも、ビジネス マイクロサービスごとに単一のサービス (ASP.NET Web API など) または単一の Docker コンテナーを作成して実装する方法が最善というわけではありません。 単一のサービスまたはコンテナーを使用して各ビジネス マイクロサービスを実装する必要がある、というルールを持つことは厳格すぎます。

そのため、ビジネス マイクロサービスまたは境界コンテキストは、物理アーキテクチャと一致する (または一致しない) 可能性がある論理アーキテクチャです。 重要な点は、コードと状態を独立してバージョン管理、展開、およびスケーリングできるようにすることで、ビジネス マイクロサービスまたは境界コンテキストを自律的にする必要があることです。

図 4-8 に示すように、カタログ ビジネス マイクロサービスは、いくつかのサービスまたはプロセスで構成されている可能性があります。 また、複数の ASP.NET Web API サービス、または HTTP やその他のプロトコルを使用するその他の種類のサービスである可能性があります。 さらに重要な点は、これらのサービスが同じビジネス ドメインに対して一貫性がある限り、サービスは同じデータを共有できることです。

![](./media/image8.png)

**図 4-8** 複数の物理サービスを持つビジネス マイクロサービス

Web API サービスは Search サービスと同じデータをターゲットにしているため、この例のサービスは同じデータ モデルを共有します。 そのため、ビジネス マイクロサービスの物理的な実装では、機能を分割して、必要に応じてこうした各内部サービスを拡大縮小することができます。 通常は Web API サービスに Search サービスよりも多くのインスタンスが必要な場合や、その逆の場合があります。

つまり、マイクロサービスの論理アーキテクチャは、物理的な展開アーキテクチャと必ずしも一致するわけではありません。 このガイドで "マイクロサービス" と言う場合は、1 つ以上のサービスにマッピングできるビジネスまたは論理マイクロサービスを意味します。 ほとんどの場合は単一のサービスですが、複数のサービスの場合もあります。


>[!div class="step-by-step"]
[Previous] (data-sovereignty-per-microservice.md) [Next] (distributed-data-management.md)
