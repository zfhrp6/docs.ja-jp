---
title: "XSLT エラーの解決"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 484929b0-fefb-4629-87ee-ebdde70ff1f8
caps.latest.revision: "2"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.openlocfilehash: 78149e0e1c84a457f68b67ea8fe4c82098e794ad
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/18/2017
---
# <a name="recoverable-xslt-errors"></a><span data-ttu-id="d409e-102">XSLT エラーの解決</span><span class="sxs-lookup"><span data-stu-id="d409e-102">Recoverable XSLT Errors</span></span>
<span data-ttu-id="d409e-103">W3C 勧告『XSL Transformations (XSLT) Version 1.0』には、対処方法を実装者が決定できる事項があります。</span><span class="sxs-lookup"><span data-stu-id="d409e-103">The W3C XSL Transformations (XSLT) Version 1.0 Recommendation includes areas in which the implementation provider may decide how to handle a situation.</span></span> <span data-ttu-id="d409e-104">このような事項は、随意動作と見なされています。</span><span class="sxs-lookup"><span data-stu-id="d409e-104">These areas are considered to be discretionary behavior.</span></span> <span data-ttu-id="d409e-105">たとえば、XSLT 1.0 Recommendation は、セクション 7.3「Creating Processing Instructions」で、`xsl:processing-instruction` の内容をインスタンス化したときに、テキスト ノード以外のノードが作成されるのはエラーであるとしています。</span><span class="sxs-lookup"><span data-stu-id="d409e-105">For example, in section 7.3 Creating Processing Instructions, the XSLT 1.0 recommendation states that it is an error if instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes.</span></span> <span data-ttu-id="d409e-106">いくつかの問題に関しては、プロセッサがエラー状態から回復するときにどのような対処をするべきかを、XSLT 1.0 Recommendation が規定しています。</span><span class="sxs-lookup"><span data-stu-id="d409e-106">For some problems, the XSLT 1.0 recommendation indicates what decision should be made if the processor decides to recover from the error.</span></span> <span data-ttu-id="d409e-107">セクション 7.3 に記述されている問題に関しては、W3C では、作成されたノードとその内容を無視することで、このエラーから回復できるとしています。</span><span class="sxs-lookup"><span data-stu-id="d409e-107">For the problem given in section 7.3, the W3C says that the implementation can recover from this error by ignoring the nodes and their content.</span></span>  
  
## <a name="discretionary-behaviors"></a><span data-ttu-id="d409e-108">随意動作</span><span class="sxs-lookup"><span data-stu-id="d409e-108">Discretionary Behaviors</span></span>  
 <span data-ttu-id="d409e-109">XSLT 1.0 Recommendation で許可されている随意動作と <xref:System.Xml.Xsl.XslCompiledTransform> クラスによるこれらの動作の処理方法を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="d409e-109">The following table lists each of the discretionary behaviors allowed by the XSLT 1.0 recommendation, and how these behaviors are handled by the <xref:System.Xml.Xsl.XslCompiledTransform> class.</span></span>  
  
-   <span data-ttu-id="d409e-110">復元は、<xref:System.Xml.Xsl.XslCompiledTransform> クラスがこのエラーから回復することを示しています。</span><span class="sxs-lookup"><span data-stu-id="d409e-110">Recover indicates that the <xref:System.Xml.Xsl.XslCompiledTransform> class will recover from this error.</span></span> <span data-ttu-id="d409e-111"><xref:System.Xml.Xsl.XsltArgumentList.XsltMessageEncountered?displayProperty=nameWithType> イベントを使用すると、XSLT プロセッサのすべてのイベントを通知できます。</span><span class="sxs-lookup"><span data-stu-id="d409e-111">The <xref:System.Xml.Xsl.XsltArgumentList.XsltMessageEncountered?displayProperty=nameWithType> event can be used to report any events from the XSLT processor.</span></span>  
  
-   <span data-ttu-id="d409e-112">エラーは、この状態に対する例外が発生したことを示します。</span><span class="sxs-lookup"><span data-stu-id="d409e-112">Error indicates that an exception is raised for this condition.</span></span>  
  
-   <span data-ttu-id="d409e-113">参照は含まれて、 [W3C XSL Transformations (XSLT) Version 1.0 Recommendation](http://go.microsoft.com/fwlink/?LinkId=49919)と[W3C XSL Transformations (XSLT) Version 1.0 Specification Errata](http://go.microsoft.com/fwlink/?LinkId=49917)です。</span><span class="sxs-lookup"><span data-stu-id="d409e-113">The section references can be found in the [W3C XSL Transformations (XSLT) Version 1.0 Recommendation](http://go.microsoft.com/fwlink/?LinkId=49919) and the [W3C XSL Transformations (XSLT) Version 1.0 Specification Errata](http://go.microsoft.com/fwlink/?LinkId=49917).</span></span>  
  
|<span data-ttu-id="d409e-114">XSLT の状態</span><span class="sxs-lookup"><span data-stu-id="d409e-114">XSLT condition</span></span>|<span data-ttu-id="d409e-115">セクション</span><span class="sxs-lookup"><span data-stu-id="d409e-115">Section</span></span>|<span data-ttu-id="d409e-116">XslCompiledTransform の動作</span><span class="sxs-lookup"><span data-stu-id="d409e-116">XslCompiledTransform behavior</span></span>|  
|--------------------|-------------|-----------------------------------|  
|<span data-ttu-id="d409e-117">テキスト ノードが `xsl:strip-space` と `xsl:preserve-space` の両方に適合している。</span><span class="sxs-lookup"><span data-stu-id="d409e-117">A text node matches both `xsl:strip-space` and `xsl:preserve-space`.</span></span>|<span data-ttu-id="d409e-118">3.4</span><span class="sxs-lookup"><span data-stu-id="d409e-118">3.4</span></span>|<span data-ttu-id="d409e-119">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-119">Recover</span></span>|  
|<span data-ttu-id="d409e-120">ソース ノードが複数のテンプレート規則に適合している。</span><span class="sxs-lookup"><span data-stu-id="d409e-120">A source node matches more than one template rule.</span></span>|<span data-ttu-id="d409e-121">5.5</span><span class="sxs-lookup"><span data-stu-id="d409e-121">5.5</span></span>|<span data-ttu-id="d409e-122">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-122">Recover</span></span>|  
|<span data-ttu-id="d409e-123">1 つの名前空間 URI が同じインポート優先順位を持つ複数の名前空間 URI のエイリアスとして宣言されている。</span><span class="sxs-lookup"><span data-stu-id="d409e-123">A namespace URI is declared to be an alias for multiple namespace URIs, all having the same import precedence.</span></span>|<span data-ttu-id="d409e-124">7.1.1</span><span class="sxs-lookup"><span data-stu-id="d409e-124">7.1.1</span></span>|<span data-ttu-id="d409e-125">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-125">Recover</span></span>|  
|<span data-ttu-id="d409e-126">属性値から生成された `name` と `xsl:attribute` 内の `xsl:element` 属性が QName ではない。</span><span class="sxs-lookup"><span data-stu-id="d409e-126">The `name` attribute in `xsl:attribute` and `xsl:element` generated from an attribute value is not a QName.</span></span>|<span data-ttu-id="d409e-127">7.1.2, 7.1.3</span><span class="sxs-lookup"><span data-stu-id="d409e-127">7.1.2, 7.1.3</span></span>|<span data-ttu-id="d409e-128">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-128">Error*</span></span>|  
|<span data-ttu-id="d409e-129">同じインポートおよび展開名を持つ 2 つの属性セットに共通の属性が含まれており、これらの属性セット以外に、同じ名前で優先順位の高い共通属性を含む属性セットがない。</span><span class="sxs-lookup"><span data-stu-id="d409e-129">Two attribute sets with the same import and expanded-name have an attribute in common and there is no other attribute set containing the common attribute having the same name with higher importance.</span></span>|<span data-ttu-id="d409e-130">7.1.4</span><span class="sxs-lookup"><span data-stu-id="d409e-130">7.1.4</span></span>|<span data-ttu-id="d409e-131">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-131">Recover</span></span>|  
|<span data-ttu-id="d409e-132">要素に子が既に追加されているにもかかわらず、その要素に属性が追加される。</span><span class="sxs-lookup"><span data-stu-id="d409e-132">Adding an attribute to an element after children have been added to it.</span></span>|<span data-ttu-id="d409e-133">7.1.3</span><span class="sxs-lookup"><span data-stu-id="d409e-133">7.1.3</span></span>|<span data-ttu-id="d409e-134">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-134">Error*</span></span>|  
|<span data-ttu-id="d409e-135">'xmlns' という名前を持つ属性が作成される。</span><span class="sxs-lookup"><span data-stu-id="d409e-135">Creating an attribute with the name 'xmlns'</span></span>|<span data-ttu-id="d409e-136">7.1.3</span><span class="sxs-lookup"><span data-stu-id="d409e-136">7.1.3</span></span>|<span data-ttu-id="d409e-137">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-137">Error*</span></span>|  
|<span data-ttu-id="d409e-138">要素ではないノードに属性が追加される。</span><span class="sxs-lookup"><span data-stu-id="d409e-138">Adding an attribute to a node that is not an element.</span></span>|<span data-ttu-id="d409e-139">7.1.3</span><span class="sxs-lookup"><span data-stu-id="d409e-139">7.1.3</span></span>|<span data-ttu-id="d409e-140">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-140">Error*</span></span>|  
|<span data-ttu-id="d409e-141">`xsl:attribute` 属性の内容をインスタンス化する際にテキスト ノード以外のノードが作成される。</span><span class="sxs-lookup"><span data-stu-id="d409e-141">Creating nodes other than text nodes during the instantiation of the content of the `xsl:attribute` attribute.</span></span>|<span data-ttu-id="d409e-142">7.1.3</span><span class="sxs-lookup"><span data-stu-id="d409e-142">7.1.3</span></span>|<span data-ttu-id="d409e-143">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-143">Error*</span></span>|  
|<span data-ttu-id="d409e-144">`name` の `xsl:processing-instruction` 属性が NCName と処理命令ターゲットのどちらも生成しない。</span><span class="sxs-lookup"><span data-stu-id="d409e-144">The `name` attribute of an `xsl:processing-instruction` does not yield both an NCName and a processing instruction target.</span></span>|<span data-ttu-id="d409e-145">7.3</span><span class="sxs-lookup"><span data-stu-id="d409e-145">7.3</span></span>|<span data-ttu-id="d409e-146">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-146">Error*</span></span>|  
|<span data-ttu-id="d409e-147">`xsl:processing-instruction` の内容をインスタンス化すると、テキスト ノード以外のノードが作成される。</span><span class="sxs-lookup"><span data-stu-id="d409e-147">Instantiating the content of `xsl:processing-instruction` creates nodes other than text nodes.</span></span>|<span data-ttu-id="d409e-148">7.3</span><span class="sxs-lookup"><span data-stu-id="d409e-148">7.3</span></span>|<span data-ttu-id="d409e-149">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-149">Error*</span></span>|  
|<span data-ttu-id="d409e-150">`xsl:processing-instruction` の内容をインスタンス化した結果に文字列 "?&gt;" が含まれている。</span><span class="sxs-lookup"><span data-stu-id="d409e-150">The result of instantiating the content of the `xsl:processing-instruction` contains the string "?>"</span></span>|<span data-ttu-id="d409e-151">7.3</span><span class="sxs-lookup"><span data-stu-id="d409e-151">7.3</span></span>|<span data-ttu-id="d409e-152">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-152">Recover</span></span>|  
|<span data-ttu-id="d409e-153">`xsl:processing-instruction` の内容をインスタンス化した結果に文字列 "--" が含まれているか、または "-" で終了している。</span><span class="sxs-lookup"><span data-stu-id="d409e-153">The result of instantiating the content of the `xsl:processing-instruction` contains the string "--" or ends with "-".</span></span>|<span data-ttu-id="d409e-154">7.4</span><span class="sxs-lookup"><span data-stu-id="d409e-154">7.4</span></span>|<span data-ttu-id="d409e-155">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-155">Recover</span></span>|  
|<span data-ttu-id="d409e-156">`xsl:comment` の内容をインスタンス化した結果、テキスト ノード以外のノードが作成される。</span><span class="sxs-lookup"><span data-stu-id="d409e-156">The result of instantiating the content of the `xsl:comment` creates nodes other than text nodes.</span></span>|<span data-ttu-id="d409e-157">7.4</span><span class="sxs-lookup"><span data-stu-id="d409e-157">7.4</span></span>|<span data-ttu-id="d409e-158">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-158">Error*</span></span>|  
|<span data-ttu-id="d409e-159">変数バインディング要素内のテンプレートが属性ノードまたは名前空間ノードを返す。</span><span class="sxs-lookup"><span data-stu-id="d409e-159">The template within a variable-binding element returns an attribute node or a namespace node.</span></span>|<span data-ttu-id="d409e-160">11.2</span><span class="sxs-lookup"><span data-stu-id="d409e-160">11.2</span></span>|<span data-ttu-id="d409e-161">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-161">Error*</span></span>|  
|<span data-ttu-id="d409e-162">document 関数に渡された URI からのリソースの取得時にエラーが発生する。</span><span class="sxs-lookup"><span data-stu-id="d409e-162">There is an error retrieving the resource from the URI passed into the document function.</span></span>|<span data-ttu-id="d409e-163">12.1</span><span class="sxs-lookup"><span data-stu-id="d409e-163">12.1</span></span>|<span data-ttu-id="d409e-164">Error</span><span class="sxs-lookup"><span data-stu-id="d409e-164">Error</span></span>|  
|<span data-ttu-id="d409e-165">document 関数内の URI 参照にフラグメント ID が含まれており、その ID を処理するとエラーが発生する。</span><span class="sxs-lookup"><span data-stu-id="d409e-165">The URI reference in the document function contains a fragment identifier and there is an error processing the fragment identifier.</span></span>|<span data-ttu-id="d409e-166">12.1</span><span class="sxs-lookup"><span data-stu-id="d409e-166">12.1</span></span>|<span data-ttu-id="d409e-167">復元*</span><span class="sxs-lookup"><span data-stu-id="d409e-167">Recover*</span></span>|  
|<span data-ttu-id="d409e-168">同じ名前とさまざまな値を持つ複数の属性があり、これらの属性が同じインポート優先順位を持つ `xsl:output` の名前付き cdata-section 要素にならない。</span><span class="sxs-lookup"><span data-stu-id="d409e-168">There are multiple attributes with the same name, but different values, that are not named cdata-section elements in `xsl:output` with the same import precedence.</span></span>|<span data-ttu-id="d409e-169">16</span><span class="sxs-lookup"><span data-stu-id="d409e-169">16</span></span>|<span data-ttu-id="d409e-170">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-170">Recover</span></span>|  
|<span data-ttu-id="d409e-171">プロセッサが `xsl:output` の encoding 属性のエンコーディングをサポートしない。</span><span class="sxs-lookup"><span data-stu-id="d409e-171">The processor does not support the encoding in the `xsl:output` encoding attribute.</span></span>|<span data-ttu-id="d409e-172">16.1</span><span class="sxs-lookup"><span data-stu-id="d409e-172">16.1</span></span>|<span data-ttu-id="d409e-173">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-173">Recover</span></span>|  
|<span data-ttu-id="d409e-174">テキスト ノードの出力エスケープが無効で、そのテキスト ノードが結果ツリーのテキスト ノード以外のもののために使用されている。</span><span class="sxs-lookup"><span data-stu-id="d409e-174">Disabling output escaping for a text node that is used for something other than a text node in the result tree.</span></span>|<span data-ttu-id="d409e-175">16.4</span><span class="sxs-lookup"><span data-stu-id="d409e-175">16.4</span></span>|<span data-ttu-id="d409e-176">復元*</span><span class="sxs-lookup"><span data-stu-id="d409e-176">Recover*</span></span>|  
|<span data-ttu-id="d409e-177">出力エスケープが有効に設定されているテキスト ノードが結果ツリー フラグメントに含まれている場合に、そのフラグメントが数値や文字列に変換される。</span><span class="sxs-lookup"><span data-stu-id="d409e-177">Converting a result tree fragment to a number or string if the result tree fragment contains a text node with output escaping enabled.</span></span>|<span data-ttu-id="d409e-178">16.4</span><span class="sxs-lookup"><span data-stu-id="d409e-178">16.4</span></span>|<span data-ttu-id="d409e-179">復元*</span><span class="sxs-lookup"><span data-stu-id="d409e-179">Recover*</span></span>|  
|<span data-ttu-id="d409e-180">XSLT プロセッサが出力に使用しているエンコーディングで表すことができない文字に対して、出力エスケープが無効に設定される。</span><span class="sxs-lookup"><span data-stu-id="d409e-180">Output escaping is disabled for a character that cannot be represented in the encoding that the XSLT processor is using for output.</span></span>|<span data-ttu-id="d409e-181">16.4</span><span class="sxs-lookup"><span data-stu-id="d409e-181">16.4</span></span>|<span data-ttu-id="d409e-182">復元*</span><span class="sxs-lookup"><span data-stu-id="d409e-182">Recover*</span></span>|  
|<span data-ttu-id="d409e-183">要素に子または属性が追加された後で、その要素に名前空間ノードが追加される。</span><span class="sxs-lookup"><span data-stu-id="d409e-183">Adding a namespace node to an element after children have been added to it or after attributes have been added to it.</span></span>|<span data-ttu-id="d409e-184">errata 25</span><span class="sxs-lookup"><span data-stu-id="d409e-184">errata 25</span></span>|<span data-ttu-id="d409e-185">エラー*</span><span class="sxs-lookup"><span data-stu-id="d409e-185">Error*</span></span>|  
|<span data-ttu-id="d409e-186">`value` の `xsl:number` 属性が NAN、無限、または 0.5 未満である。</span><span class="sxs-lookup"><span data-stu-id="d409e-186">The `value` attribute of an `xsl:number` is NAN, infinite or less than 0.5</span></span>|<span data-ttu-id="d409e-187">errata 24</span><span class="sxs-lookup"><span data-stu-id="d409e-187">errata 24</span></span>|<span data-ttu-id="d409e-188">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-188">Recover</span></span>|  
|<span data-ttu-id="d409e-189">document 関数への 2 番目の引数ノード セットが空であり、URI 参照が相対 URI 参照である。</span><span class="sxs-lookup"><span data-stu-id="d409e-189">The second argument node-set to the document function is empty and the URI reference is relative.</span></span>|<span data-ttu-id="d409e-190">errata 14</span><span class="sxs-lookup"><span data-stu-id="d409e-190">errata 14</span></span>|<span data-ttu-id="d409e-191">復元</span><span class="sxs-lookup"><span data-stu-id="d409e-191">Recover</span></span>|  
  
 <span data-ttu-id="d409e-192"><sup>*</sup>この動作は異なる、<xref:System.Xml.Xsl.XslTransform>クラスです。</span><span class="sxs-lookup"><span data-stu-id="d409e-192"><sup>*</sup> This behavior is different than that of the <xref:System.Xml.Xsl.XslTransform> class.</span></span> <span data-ttu-id="d409e-193">詳細については、次を参照してください。[実装のクラスの随意動作、XslTransform](../../../../docs/standard/data/xml/implementation-of-discretionary-behaviors-in-the-xsltransform-class.md)です。</span><span class="sxs-lookup"><span data-stu-id="d409e-193">For more information, see [Implementation of Discretionary Behaviors in the XslTransform Class](../../../../docs/standard/data/xml/implementation-of-discretionary-behaviors-in-the-xsltransform-class.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d409e-194">関連項目</span><span class="sxs-lookup"><span data-stu-id="d409e-194">See Also</span></span>  
 [<span data-ttu-id="d409e-195">XSLT 変換</span><span class="sxs-lookup"><span data-stu-id="d409e-195">XSLT Transformations</span></span>](../../../../docs/standard/data/xml/xslt-transformations.md)
